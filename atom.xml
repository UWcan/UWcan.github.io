<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[啦啦啦，欢迎光临]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2017-04-17T02:44:40.799Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name><![CDATA[U_can]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[KnockoutJs实现树性结构列表]]></title>
    <link href="http://yoursite.com/2016/11/01/20161101/"/>
    <id>http://yoursite.com/2016/11/01/20161101/</id>
    <published>2016-11-01T04:14:00.000Z</published>
    <updated>2017-04-17T02:44:40.799Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>本文主要是利用ko框架遍历读取递归数据格式</p>
</blockquote>
<p>如果遇到这样的数据结构，用ko框架实现是非常简单的：<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//data</span><br><span class="line">	var dataTree=[</span><br><span class="line">   		&#123;</span><br><span class="line">   			<span class="string">"id"</span>:<span class="string">"4"</span>,</span><br><span class="line">   			<span class="string">"text"</span>:<span class="string">"产品中心"</span>,</span><br><span class="line">   			<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">   			<span class="string">"children"</span>:[</span><br><span class="line">	   			&#123;<span class="string">"id"</span>:<span class="string">"9"</span>,<span class="string">"text"</span>:<span class="string">"展品组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">	   			&#123;<span class="string">"id"</span>:<span class="string">"10"</span>,<span class="string">"text"</span>:<span class="string">"网站分析组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">	   			&#123;<span class="string">"id"</span>:<span class="string">"8"</span>,<span class="string">"text"</span>:<span class="string">"设计组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">	   			&#123;<span class="string">"id"</span>:<span class="string">"7"</span>,<span class="string">"text"</span>:<span class="string">"文案策划"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">   			]</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"id"</span>:<span class="string">"28"</span>,</span><br><span class="line">			<span class="string">"text"</span>:<span class="string">"商业智能中心"</span>,</span><br><span class="line">			<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">			<span class="string">"children"</span>:[</span><br><span class="line">				&#123;<span class="string">"id"</span>:<span class="string">"29"</span>,<span class="string">"text"</span>:<span class="string">"数据分析组"</span>,<span class="string">"pid"</span>:<span class="string">"28"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"id"</span>:<span class="string">"15"</span>,</span><br><span class="line">			<span class="string">"text"</span>:<span class="string">"推广中心"</span>,</span><br><span class="line">			<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">			<span class="string">"children"</span>:[</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="string">"id"</span>:<span class="string">"16"</span>,</span><br><span class="line">					<span class="string">"text"</span>:<span class="string">"营销推广"</span>,</span><br><span class="line">					<span class="string">"pid"</span>:<span class="string">"15"</span>,</span><br><span class="line">					<span class="string">"children"</span>:[</span><br><span class="line">						&#123;<span class="string">"id"</span>:<span class="string">"17"</span>,<span class="string">"text"</span>:<span class="string">"媒介采购组"</span>,<span class="string">"pid"</span>:<span class="string">"16"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">					]</span><br><span class="line">				&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;]</span><br></pre></td></tr></table></figure></p>
<p>像这种层级不确定的数据结构，一般都是递归实现的，如果用原生或jq实现可能要写很多代码，但是用ko框架实现就非常简单。<br>用ko实现，其方法就是通过template绑定，通过模板将数据render到页面。模板绑定对于构建嵌套结构的页面非常方便。<br>现在我们先来把模板写好：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script id=<span class="string">"guideTmpl"</span> <span class="built_in">type</span>=<span class="string">"text/html"</span>&gt;</span><br><span class="line">    &lt;li &gt;</span><br><span class="line">    	&lt;div data-bind=<span class="string">"click:<span class="variable">$root</span>.toggleSelect,attr:&#123;id:id,class:'item '+(children.length&gt;0 ? 'bold' :'')&#125;"</span>&gt;</span><br><span class="line">    		&lt;span data-bind=<span class="string">'text: text'</span>&gt;&lt;/span&gt;</span><br><span class="line">    		&lt;!--ko <span class="keyword">if</span>:children.length&gt;<span class="number">0</span>--&gt;</span><br><span class="line">			&lt;span data-bind=<span class="string">"text:isOpen() ? '[-]' : '[+]'"</span>&gt;&lt;/span&gt;</span><br><span class="line">			&lt;!--/ko--&gt;</span><br><span class="line">    	&lt;/div&gt;</span><br><span class="line">		&lt;!--ko <span class="keyword">if</span>:isFolder--&gt;</span><br><span class="line">		&lt;ul data-bind=<span class="string">"template: &#123; name: 'guideTmpl', foreach: children &#125;"</span>&gt;&lt;/ul&gt;</span><br><span class="line">		&lt;!--/ko--&gt;</span><br><span class="line">	&lt;/li&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>下面我们就在页面上使用该模板：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">"userGroupTree"</span>&gt;</span><br><span class="line">	&lt;p data-bind=<span class="string">"click:mainOpen"</span>&gt;&lt;span&gt;请选择所属分支&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">	&lt;!--ko <span class="keyword">if</span>:isShow--&gt;</span><br><span class="line">	&lt;ul  data-bind=<span class="string">"template: &#123; name: 'guideTmpl', foreach: menus &#125;"</span>&gt;&lt;/ul&gt;</span><br><span class="line">	&lt;!--/ko--&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>页面操作相关js：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">var dataTree=[</span><br><span class="line">  		&#123;</span><br><span class="line">  			<span class="string">"id"</span>:<span class="string">"4"</span>,</span><br><span class="line">  			<span class="string">"text"</span>:<span class="string">"产品中心"</span>,</span><br><span class="line">  			<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">  			<span class="string">"children"</span>:[</span><br><span class="line">   			&#123;<span class="string">"id"</span>:<span class="string">"9"</span>,<span class="string">"text"</span>:<span class="string">"展品组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">   			&#123;<span class="string">"id"</span>:<span class="string">"10"</span>,<span class="string">"text"</span>:<span class="string">"网站分析组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">   			&#123;<span class="string">"id"</span>:<span class="string">"8"</span>,<span class="string">"text"</span>:<span class="string">"设计组"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">   			&#123;<span class="string">"id"</span>:<span class="string">"7"</span>,<span class="string">"text"</span>:<span class="string">"文案策划"</span>,<span class="string">"pid"</span>:<span class="string">"4"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">  			]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"id"</span>:<span class="string">"28"</span>,</span><br><span class="line">		<span class="string">"text"</span>:<span class="string">"商业智能中心"</span>,</span><br><span class="line">		<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">		<span class="string">"children"</span>:[</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"29"</span>,<span class="string">"text"</span>:<span class="string">"数据分析组"</span>,<span class="string">"pid"</span>:<span class="string">"28"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"id"</span>:<span class="string">"15"</span>,</span><br><span class="line">		<span class="string">"text"</span>:<span class="string">"推广中心"</span>,</span><br><span class="line">		<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">		<span class="string">"children"</span>:[</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="string">"id"</span>:<span class="string">"16"</span>,</span><br><span class="line">				<span class="string">"text"</span>:<span class="string">"营销推广"</span>,</span><br><span class="line">				<span class="string">"pid"</span>:<span class="string">"15"</span>,</span><br><span class="line">				<span class="string">"children"</span>:[</span><br><span class="line">					&#123;<span class="string">"id"</span>:<span class="string">"17"</span>,<span class="string">"text"</span>:<span class="string">"媒介采购组"</span>,<span class="string">"pid"</span>:<span class="string">"16"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">				]</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"id"</span>:<span class="string">"18"</span>,</span><br><span class="line">		<span class="string">"text"</span>:<span class="string">"销售团队"</span>,</span><br><span class="line">		<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">		<span class="string">"children"</span>:[</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"19"</span>,<span class="string">"text"</span>:<span class="string">"nnn"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"26"</span>,<span class="string">"text"</span>:<span class="string">"aaa"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"25"</span>,<span class="string">"text"</span>:<span class="string">"lujing"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"24"</span>,<span class="string">"text"</span>:<span class="string">"weidian"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"23"</span>,<span class="string">"text"</span>:<span class="string">"山谷"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"22"</span>,<span class="string">"text"</span>:<span class="string">"cimei"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"21"</span>,<span class="string">"text"</span>:<span class="string">"yuexiu"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"20"</span>,<span class="string">"text"</span>:<span class="string">"panyu"</span>,<span class="string">"pid"</span>:<span class="string">"18"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"id"</span>:<span class="string">"6"</span>,</span><br><span class="line">		<span class="string">"text"</span>:<span class="string">"IT技术部"</span>,</span><br><span class="line">		<span class="string">"pid"</span>:<span class="string">"0"</span>,</span><br><span class="line">		<span class="string">"children"</span>:[</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"14"</span>,<span class="string">"text"</span>:<span class="string">"服务器运维"</span>,<span class="string">"pid"</span>:<span class="string">"6"</span>,<span class="string">"children"</span>:[]&#125;,			</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"13"</span>,<span class="string">"text"</span>:<span class="string">"网站前端组"</span>,<span class="string">"pid"</span>:<span class="string">"6"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"11"</span>,<span class="string">"text"</span>:<span class="string">"网站开发组"</span>,<span class="string">"pid"</span>:<span class="string">"6"</span>,<span class="string">"children"</span>:[]&#125;,</span><br><span class="line">			&#123;<span class="string">"id"</span>:<span class="string">"12"</span>,<span class="string">"text"</span>:<span class="string">"后台系统组"</span>,<span class="string">"pid"</span>:<span class="string">"6"</span>,<span class="string">"children"</span>:[]&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;];</span><br><span class="line">	//给每个层级对象添加isOpen和isFolder属性</span><br><span class="line">	<span class="keyword">function</span> addAttribute(dst)&#123;</span><br><span class="line">          <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;dst.length;i++)&#123;</span><br><span class="line">              var temp=dst[i];</span><br><span class="line">              temp.isOpen=ko.observable(<span class="literal">false</span>);</span><br><span class="line">              temp.isFolder=ko.observable(<span class="literal">false</span>);</span><br><span class="line">              <span class="keyword">for</span>(var j=<span class="number">0</span>;j&lt;temp.children.length;j++)&#123;</span><br><span class="line">                  addAttribute(temp.children);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">	addAttribute(dataTree);</span><br><span class="line">	var TreeModel = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">		this.menus=ko.observableArray(dataTree);</span><br><span class="line">		this.isShow=ko.observable(<span class="literal">false</span>);</span><br><span class="line">		//展开、折叠操作</span><br><span class="line">		this.toggleSelect = <span class="keyword">function</span>(e)&#123;</span><br><span class="line">		    var open=e.isOpen();</span><br><span class="line">		    e.isFolder(<span class="literal">true</span>);</span><br><span class="line">		    <span class="keyword">if</span>(open)&#123;</span><br><span class="line">		    	e.isFolder(<span class="literal">false</span>);</span><br><span class="line">		    	e.isOpen(<span class="literal">false</span>);</span><br><span class="line">		    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		    	e.isFolder(<span class="literal">true</span>);</span><br><span class="line">		    	e.isOpen(<span class="literal">true</span>);</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		this.mainOpen=<span class="keyword">function</span>(e)&#123;</span><br><span class="line">			 var opened = e.isShow();</span><br><span class="line">			 <span class="keyword">if</span>(opened)&#123;</span><br><span class="line">			 	e.isShow(<span class="literal">false</span>);</span><br><span class="line">			 &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			 	e.isShow(<span class="literal">true</span>);</span><br><span class="line">			 &#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	//Knockout调用applyBindings激活TreeModel（即把myViewModel和View中的声明式绑定data-bind接洽关系起来）</span><br><span class="line">	ko.applyBindings(new TreeModel());</span><br></pre></td></tr></table></figure></p>
<p>运行效果：<br><img src="/uploads/artical_img/2016110101.gif" alt="图片1"></p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>本文主要是利用ko框架遍历读取递归数据格式</p>
</blockquote>
<p>如果遇到这样的数据结构，用ko框架实现是非常简单的：<br>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="knockoutJs" scheme="http://yoursite.com/tags/knockoutJs/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[原生js与iframe一些事]]></title>
    <link href="http://yoursite.com/2016/07/06/20160706/"/>
    <id>http://yoursite.com/2016/07/06/20160706/</id>
    <published>2016-07-06T06:18:00.000Z</published>
    <updated>2017-05-22T14:08:25.693Z</updated>
    <content type="html"><![CDATA[<p>因为sem推广总是提出一些让人吐血的需求，类似于用A链接访问B链接的内容，pc跟无线又要区分不同页面，区域的不同又要显示的内容不同等等，哎呀妈妈喂，净瞎折腾。<br>这一次的需求是打开A链接，mobile显示B链接的内容，pc显示C链接的内容，因为访问链接不能变。因此我首先想到的就是用iframe了。<br><code>本文的前提是iframe同域，即不存在跨域情况，页面没考虑IE兼容</code><br><a id="more"></a><br>A.html模板大概就是下面酱紫啦：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="keyword">if</span> <span class="variable">$flag</span> eq <span class="string">'mobile'</span>&#125;</span><br><span class="line">    &lt;p class=<span class="string">"title"</span> style=<span class="string">"display: none;"</span>&gt;手机端title&lt;/p&gt;</span><br><span class="line">    &lt;iframe id=<span class="string">"iframe"</span> name=<span class="string">"iframe"</span> frameborder=<span class="string">"0"</span>  style=<span class="string">"width: 100%; height: 1000px; padding: 0; margin: 0"</span> scrolling=<span class="string">"auto"</span>&gt;&lt;/iframe&gt;    </span><br><span class="line">&#123;<span class="keyword">else</span>&#125;    </span><br><span class="line">    &lt;p class=<span class="string">"title"</span> style=<span class="string">"display: none;"</span>&gt;pc端title&lt;/p&gt;</span><br><span class="line">    &lt;iframe id=<span class="string">"iframe"</span> name=<span class="string">"iframe"</span> frameborder=<span class="string">"0"</span>  style=<span class="string">"width: 100%; height: 1000px; padding: 0; margin: 0"</span> scrolling=<span class="string">"auto"</span>&gt;&lt;/iframe&gt;</span><br><span class="line">&#123;/<span class="keyword">if</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>pc跟手机判断我就直接用php那边判断了。为什么要这么做呢？我是这么想的：<br><code>如果我用js来判断手机跟无线，无非就是隐藏谁显示谁的问题（用这种方法的话，如果pc、手机端页面内容多的话，那么不管显示哪个页面，他都会把所有资源加载出来的，就算你display为none），或者是js里面判断客户端，然后再动态添加src，动态引入资源。哎呀，就是因为后面还要添加很多标签，所以就不用js来写了，省了麻烦。</code></p>
<p>然后用js动态添加src。如果你的src不需要携带参数的话，那么可以直接把src写在iframe里面。但是我这里因为要有在线咨询的功能，而且需要在url后面添加渠道追踪才能进行咨询（比如www.u-can.cn?channel=27），所以这个src是会变化的，还是贴代码比较清楚，原谅我不是很会表达，哈哈</p>
<p>A.html页面：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">window.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">      document.title=document.querySelector(<span class="string">'.title'</span>).innerHTML;</span><br><span class="line">       var ifr=document.querySelector(<span class="string">'#iframe'</span>);</span><br><span class="line">       var <span class="built_in">local</span>_search=window.location.search;//这里可以获取到url?及后面的参数</span><br><span class="line">       <span class="keyword">if</span>(document.querySelector(<span class="string">'#iframe'</span>))&#123;</span><br><span class="line">           ifr.style.height=window.innerHeight+<span class="string">'px'</span>;</span><br><span class="line">           var src1=<span class="string">''</span>;             </span><br><span class="line">           <span class="keyword">if</span>(navigator.userAgent.match(/Android|iPhone|SymbianOS|Windows Phone|iPad|iPod/))&#123;</span><br><span class="line">              //mobile显示b.html页面内容        </span><br><span class="line">               src1=<span class="string">'/b.html'</span>;                  </span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              //pc显示c.html页面内容</span><br><span class="line">               src1=<span class="string">'/c.html'</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(<span class="built_in">local</span>_search)&#123;</span><br><span class="line">               // 如果url存在?参数，则把参数传入，例如b.html?参数</span><br><span class="line">               ifr.src=src1+<span class="built_in">local</span>_search;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               ifr.src=src1;</span><br><span class="line">           &#125; </span><br><span class="line">　　　　&#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>当你以为一切万事大吉的时候，一堆问题又来了。我这个嵌套的页面有fixed定位的元素，比如有底部固定悬浮按钮呀，右侧悬浮咨询按钮呀，在安卓机、谷歌模拟下都正常显示，但是平常NBHH的苹果家族竟然有问题了。需求方反映说她的iphone6页面下底部按钮被甩在了文章底部。靠，返工重做。</p>
<p>百度一番后，决定把嵌套在页面内的fixed元素全部搬到父页面，模板改成这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--A.html--&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&#123;<span class="keyword">if</span> <span class="variable">$flag</span> eq <span class="string">'mobile'</span>&#125;</span><br><span class="line">    &lt;p class=<span class="string">"title"</span> style=<span class="string">"display: none;"</span>&gt;mobile title&lt;/p&gt;</span><br><span class="line">    &lt;iframe id=<span class="string">"iframe"</span> name=<span class="string">"iframe"</span> frameborder=<span class="string">"0"</span>  style=<span class="string">"width: 100%; height: 1000px; padding: 0; margin: 0"</span> scrolling=<span class="string">"auto"</span>&gt;&lt;/iframe&gt;    </span><br><span class="line">     &lt;a class=<span class="string">"scroll-top"</span> href=<span class="string">"javascript:;"</span>&gt;返回顶部&lt;/a&gt;</span><br><span class="line">    &lt;div class=<span class="string">"f_nav_box"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"main footer_nav"</span>&gt;</span><br><span class="line">            &lt;a id=<span class="string">"one"</span> class=<span class="string">"one"</span> href=<span class="string">"javascript:;"</span>&gt;&lt;img src=<span class="string">"images/images/icon_02.jpg"</span> alt=<span class="string">""</span> &gt;按钮<span class="number">1</span>&lt;/a&gt;        </span><br><span class="line">            &lt;a class=<span class="string">"three"</span> &gt;按钮<span class="number">2</span>&lt;/a&gt;</span><br><span class="line">            &lt;a id=<span class="string">"four"</span> class=<span class="string">"four"</span> href=<span class="string">"javascript:;"</span> &gt;按钮<span class="number">3</span>&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#123;<span class="keyword">else</span>&#125;    </span><br><span class="line">    &lt;p class=<span class="string">"title"</span> style=<span class="string">"display: none;"</span>&gt;pc title&lt;/p&gt;</span><br><span class="line">    &lt;iframe id=<span class="string">"iframe"</span> name=<span class="string">"iframe"</span> frameborder=<span class="string">"0"</span>  style=<span class="string">"width: 100%; height: 1000px; padding: 0; margin: 0"</span> scrolling=<span class="string">"auto"</span>&gt;&lt;/iframe&gt;</span><br><span class="line">&#123;/<span class="keyword">if</span>&#125;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>好了，现在苹果机上能正常显示fixed定位的按钮了。不过还有两个问题需要解决：<br>当页面滑动高度大于500时，显示返回顶部按钮，点击返回顶部按钮，页面回到最顶部<br>页面底部固定按钮1点击跳转锚点1，按钮3跳转锚点2，并让某一个复选框被勾选（这里就模拟下调用b页面的fun1函数）<br>解决1：<br>A.html页面：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">window.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">       var ifr=document.querySelector(<span class="string">'#iframe'</span>);</span><br><span class="line">       var to_top=document.querySelector(<span class="string">'.scroll-top'</span>);</span><br><span class="line">     //操作iframe还是需要在它加载完后再进行吧，不然直接操作会返回undefined的</span><br><span class="line">       ifr.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">           var ifr_window=window.frames[<span class="string">"iframe"</span>]||ifr.contentWindow;//获取iframe窗口</span><br><span class="line">           var ifr_doc= ifr_window.document;//获取iframe文档---console控制台打印输出显示&lt;html&gt;&lt;/html&gt;所有内容</span><br><span class="line">        // ifr_doc.querySelector(<span class="string">'.floattel'</span>).style.display=<span class="string">'none'</span>;//这样就可以操作iframe里面的元素了</span><br><span class="line">        // ifr_doc.querySelector(<span class="string">'.footer'</span>).style.paddingBottom=<span class="string">'6em'</span>;</span><br><span class="line">       //给iframe页面添加滚动事件</span><br><span class="line">           ifr_window.onscroll=<span class="function"><span class="title">function</span></span>()&#123;                       </span><br><span class="line">              var scrollTop = ifr_doc.body.scrollTop;//获取文档内滚动条滚动高度</span><br><span class="line">              <span class="keyword">if</span>(!to_top) <span class="built_in">return</span>;                       </span><br><span class="line">              <span class="keyword">if</span>(scrollTop&gt;<span class="number">500</span>)&#123;//当高度大于<span class="number">500</span>时，显示返回顶部按钮，否则隐藏                            </span><br><span class="line">                  to_top.style.display=<span class="string">'block'</span>;                            </span><br><span class="line">              &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  to_top.style.display=<span class="string">'none'</span>; </span><br><span class="line">              &#125;                        </span><br><span class="line">           &#125;;</span><br><span class="line">           <span class="keyword">if</span>(to_top)&#123;</span><br><span class="line">            //给返回顶部按钮注册点击事件--iframe窗体scrollTo(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">              to_top.onclick=<span class="function"><span class="title">function</span></span>()&#123; </span><br><span class="line">                  ifr.contentWindow.scrollTo(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">              &#125;;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>备注：后面测试后才发现安卓及可以正常显示返回顶部按钮，但是苹果机下不行。查了一些资料后了解到ios系统不能再在iframe框架页面触发onscroll事件，额。。。所以后面就不用这种写法了<br>解决2：<br>A.html页面：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">window.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">       var ifr=document.querySelector(<span class="string">'#iframe'</span>);</span><br><span class="line">       var one=document.querySelector(<span class="string">'#one'</span>);</span><br><span class="line">       var four=document.querySelector(<span class="string">'#four'</span>);</span><br><span class="line">       ifr.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">           var ifr_window=window.frames[<span class="string">"iframe"</span>]||ifr.contentWindow;</span><br><span class="line">           var ifr_doc= ifr_window.document;</span><br><span class="line">           one.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">               ifr_window.location.hash=<span class="string">'#sdly'</span>;//跳到b页面指定锚点</span><br><span class="line">               ifr_window.location = ifr_window.location;</span><br><span class="line">           &#125;;</span><br><span class="line">           four.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">               ifr_window.location.hash=<span class="string">'#order'</span>;//跳到b页面指定锚点</span><br><span class="line">               ifr_window.location = ifr_window.location;</span><br><span class="line">               ifr_window.fun1();//调用b页面定义的fun1方法</span><br><span class="line">           &#125;;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>B.html页面：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=<span class="string">"sdly"</span>&gt;点击父窗口按钮<span class="number">1</span>跳到这里&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"order"</span>&gt;点击父窗口按钮<span class="number">3</span>跳到这里并执行fun1()&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">function</span> <span class="function"><span class="title">fun1</span></span>()&#123;</span><br><span class="line">           alert(<span class="string">'我是点击父窗口的按钮触发的！'</span>);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>说明：<br>ifr_window.location.hash=’#order’;//跳到b页面指定锚点<br>ifr_window.location = ifr_window.location;<br>在锚点跳转这里我在hash后面还添加了ifr_window.location = ifr_window.location;这串代码。因为测试的时候发现谷歌只响应第一次锚点跳转，后面再次点击就没有反应了，所以加上这一句后就正常了。<br>最后这里记录下window.location的相关知识点：<br>window.location 对象所包含的属性</p>
<table>
<thead>
<tr>
<th>属性</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>hash</td>
<td style="text-align:center">从井号 (#) 开始的 URL（锚）</td>
</tr>
<tr>
<td>host</td>
<td style="text-align:center">主机名和当前 URL 的端口号</td>
</tr>
<tr>
<td>hostname</td>
<td style="text-align:center">当前 URL 的主机名</td>
</tr>
<tr>
<td>href</td>
<td style="text-align:center">完整的 URL</td>
</tr>
<tr>
<td>pathname</td>
<td style="text-align:center">当前 URL 的路径部分</td>
</tr>
<tr>
<td>port</td>
<td style="text-align:center">当前 URL 的端口号</td>
</tr>
<tr>
<td>protocol</td>
<td style="text-align:center">当前 URL 的协议</td>
</tr>
<tr>
<td>search</td>
<td style="text-align:center">从问号 (?) 开始的 URL（查询部分）</td>
</tr>
</tbody>
</table>
]]></content>
    <summary type="html">
    <![CDATA[<p>因为sem推广总是提出一些让人吐血的需求，类似于用A链接访问B链接的内容，pc跟无线又要区分不同页面，区域的不同又要显示的内容不同等等，哎呀妈妈喂，净瞎折腾。<br>这一次的需求是打开A链接，mobile显示B链接的内容，pc显示C链接的内容，因为访问链接不能变。因此我首先想到的就是用iframe了。<br><code>本文的前提是iframe同域，即不存在跨域情况，页面没考虑IE兼容</code><br>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[手风琴风格图片轮播]]></title>
    <link href="http://yoursite.com/2016/06/18/20160218/"/>
    <id>http://yoursite.com/2016/06/18/20160218/</id>
    <published>2016-06-18T07:48:00.000Z</published>
    <updated>2017-05-22T14:59:57.847Z</updated>
    <content type="html"><![CDATA[<p>今天在<a href="http://www.w3cfuns.com/notes/20618/7af828f7b6b7f9d1bb127a9cfbb3267c" target="_blank" rel="external">http://www.w3cfuns.com/notes/20618/7af828f7b6b7f9d1bb127a9cfbb3267c</a>上看到这个效果，所以拿来练练手，太久没动脑子了，得让它活动活动。</p>
<p>轮播效果：<br><img src="/uploads/artical_img/2016021801.jpg" alt="轮播图"><br><a id="more"></a><br>在该文章的基础上，我自己添加了自动轮播的效果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;手风琴切换&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;style <span class="built_in">type</span>=<span class="string">"text/css"</span>&gt;</span><br><span class="line">    .ts &#123;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        width: <span class="number">1072</span>px;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul &#123;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        width: <span class="number">100</span>%;</span><br><span class="line">        height: <span class="number">500</span>px;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        padding: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul li &#123;</span><br><span class="line">        list-style-type: none;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        <span class="built_in">float</span>: left;</span><br><span class="line">        width: <span class="number">95</span>px;</span><br><span class="line">        -webkit-transition: width <span class="number">0.5</span>s;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul b &#123;</span><br><span class="line">        -webkit-transition: all <span class="number">0.5</span>s;</span><br><span class="line">        width: <span class="number">95</span>px;</span><br><span class="line">        display: block;</span><br><span class="line">        height: <span class="number">440</span>px;</span><br><span class="line">        text-indent: -<span class="number">9999</span>em;</span><br><span class="line">        background: url(http://gyc.woniu.com/tg/ad6/images/ts.jpg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .ts-ul-li1 &#123;</span><br><span class="line">        background: url(http://gyc.woniu.com/tg/ad6/images/ts1_on.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .ts-ul-li2 &#123;</span><br><span class="line">        background: url(http://gyc.woniu.com/tg/ad6/images/ts2_on.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .ts-ul-li3 &#123;</span><br><span class="line">        background: url(http://gyc.woniu.com/tg/ad6/images/ts3_on.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul-li4 &#123;</span><br><span class="line">        background: url(http://gyc.woniu.com/tg/ad6/images/ts4_on.jpg) no-repeat;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul li.on &#123;</span><br><span class="line">        width: <span class="number">787</span>px;</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul li.on b&#123;</span><br><span class="line">        opacity: <span class="number">0</span>;</span><br><span class="line">        filter: Alpha(opacity=<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul-li1 b &#123;</span><br><span class="line">        background-position: <span class="number">0</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul-li2 b &#123;</span><br><span class="line">        background-position: -<span class="number">95</span>px <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul-li3 b &#123;</span><br><span class="line">        background-position: -<span class="number">190</span>px <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    .ts-ul-li4 b &#123;</span><br><span class="line">        background-position: -<span class="number">285</span>px <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=<span class="string">"ts"</span>&gt;</span><br><span class="line">        &lt;ul class=<span class="string">"ts-ul"</span>&gt;</span><br><span class="line">            &lt;li class=<span class="string">"ts-ul-li1"</span>&gt;&lt;b&gt;&lt;/b&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=<span class="string">"ts-ul-li2"</span>&gt;&lt;b&gt;&lt;/b&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=<span class="string">"ts-ul-li3"</span>&gt;&lt;b&gt;&lt;/b&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li class=<span class="string">"ts-ul-li4"</span>&gt;&lt;b&gt;&lt;/b&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=<span class="string">"http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"</span> <span class="built_in">type</span>=<span class="string">"text/javascript"</span> charset=<span class="string">"utf-8"</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">        $(<span class="function"><span class="title">function</span></span>() &#123;    </span><br><span class="line">            var li_warp=$(<span class="string">'.ts-ul'</span>)</span><br><span class="line">            var totle=li_warp.children(<span class="string">'li'</span>).length;</span><br><span class="line">            var index=-<span class="number">1</span>;</span><br><span class="line">            var timeOut=null;    </span><br><span class="line">            $(<span class="string">".ts-ul li"</span>).eq(<span class="number">0</span>).addClass(<span class="string">'on'</span>);</span><br><span class="line">            $(<span class="string">".ts-ul li"</span>).hover(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                clearInterval(timeOut);</span><br><span class="line">                $(<span class="string">".ts-ul li"</span>).removeClass(<span class="string">"on"</span>);</span><br><span class="line">                $(this).addClass(<span class="string">"on"</span>);</span><br><span class="line">                index=$(this).index();</span><br><span class="line">//                console.log(index);</span><br><span class="line">            &#125;,<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                autoPlay();</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">function</span> <span class="function"><span class="title">autoPlay</span></span>()&#123;</span><br><span class="line">                timeOut=<span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                    index++;                    </span><br><span class="line">                    $(<span class="string">".ts-ul li"</span>).eq(index).addClass(<span class="string">'on'</span>).siblings(<span class="string">'li'</span>).removeClass(<span class="string">'on'</span>);</span><br><span class="line">                    <span class="keyword">if</span>(index==totle)&#123;</span><br><span class="line">                        index=<span class="number">0</span>;</span><br><span class="line">                    &#125;                        </span><br><span class="line">                &#125;,<span class="number">4000</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            autoPlay();</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>今天在<a href="http://www.w3cfuns.com/notes/20618/7af828f7b6b7f9d1bb127a9cfbb3267c">http://www.w3cfuns.com/notes/20618/7af828f7b6b7f9d1bb127a9cfbb3267c</a>上看到这个效果，所以拿来练练手，太久没动脑子了，得让它活动活动。</p>
<p>轮播效果：<br><img src="/uploads/artical_img/2016021801.jpg" alt="轮播图"><br>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[移动端无缝滚动兼拖动插件]]></title>
    <link href="http://yoursite.com/2016/06/02/20160602/"/>
    <id>http://yoursite.com/2016/06/02/20160602/</id>
    <published>2016-06-02T09:28:00.000Z</published>
    <updated>2017-05-22T13:49:11.246Z</updated>
    <content type="html"><![CDATA[<p>需求分析：<br>1、无缝滚动<br>2、触摸拖动<br><a id="more"></a><br>先上html代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"</span> /&gt;</span><br><span class="line">        &lt;title&gt;图片点击滑动&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            body&#123;padding: <span class="number">0</span>;margin: <span class="number">0</span>;&#125;</span><br><span class="line">            li,ol,ul&#123;margin: <span class="number">0</span>;list-style: none;padding: <span class="number">0</span>;&#125;</span><br><span class="line">            div<span class="comment">#l-btn&#123;left: 0;color: gray;&#125;</span></span><br><span class="line">            div<span class="comment">#r-btn&#123;right: 0;color:brown;cursor: pointer;&#125;</span></span><br><span class="line">            .nav-container&#123;position: relative;width: <span class="number">98</span>%;height:<span class="number">10</span>em;overflow: hidden;margin: <span class="number">2</span>em auto;&#125;</span><br><span class="line">            .nav&#123;position: absolute;top: <span class="number">0</span>;left:<span class="number">0</span>;&#125;</span><br><span class="line">            .nav li&#123;<span class="built_in">float</span>: left;width:<span class="number">8</span>em;text-align: center;&#125;</span><br><span class="line">            .nav li img&#123;width: <span class="number">100</span>%;height: auto;&#125;</span><br><span class="line">            .nav span&#123;font-size: <span class="number">1.6</span>em;&#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;            </span><br><span class="line">        &lt;div class=<span class="string">"nav-container"</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">"nav"</span> id=<span class="string">"nav"</span>&gt;                 </span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb1.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">1</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb2.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">2</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb3.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">3</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb4.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">4</span>&lt;/span&gt;&lt;/li&gt;     </span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb2.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">5</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb3.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">6</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb4.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">7</span>&lt;/span&gt;&lt;/li&gt;     </span><br><span class="line">                 &lt;li&gt;&lt;img src=<span class="string">"img/hb2.jpg"</span> /&gt;&lt;br/&gt;&lt;span&gt;<span class="number">8</span>&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">             &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>无缝滚动的原理呢，就是把ul容器内的全部li标签clone追加到后面，来来来，献上丑图分析一下：<br><img src="/uploads/artical_img/2016060201.jpg" alt="示意图1"><br>当它自右向左滚动的距离大于红框宽度的一半的时候，我们就让它的tanslateX=0;因为此处刚好跟初始位置重叠，所以当我们还原到初始位移为0的时候就不会出现跳跃感了。<br>js代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">var UcanSlide=<span class="keyword">function</span>(ele,config)&#123;</span><br><span class="line">    this.config=config||&#123;&#125;;</span><br><span class="line">    this.wrap=document.querySelector(ele);</span><br><span class="line">    this.ul_wrap=this.wrap.querySelector(<span class="string">'ul'</span>);</span><br><span class="line">    this.ul_wrap.innerHTML+=this.ul_wrap.innerHTML;</span><br><span class="line">    this.oli=this.ul_wrap.querySelectorAll(<span class="string">'li'</span>);</span><br><span class="line">    this.len=this.oli.length;                    </span><br><span class="line">    this.marginRight=this.config.marginRight||<span class="number">15</span>;//设置li标签的右边距</span><br><span class="line">    this.autoScroll=this.config.autoScroll||<span class="literal">true</span>;//设置容器的滚动状态</span><br><span class="line">    this.scrollStep=this.config.scrollSpeed||<span class="number">2</span>;//设置容器滚动的步长</span><br><span class="line">    this.setTime = null;</span><br><span class="line">    this.warp_width=this.wrap.offsetWidth;</span><br><span class="line">    this.ul_wrap_width=<span class="number">0</span>;                        </span><br><span class="line">    this.init();                    </span><br><span class="line">&#125;</span><br><span class="line">UcanSlide.prototype.init=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var _this=this;                    </span><br><span class="line">    <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;this.len;i++)&#123;</span><br><span class="line">        this.oli[i].style.marginRight=this.marginRight+<span class="string">'px'</span>;</span><br><span class="line">        this.ul_wrap_width+=(this.oli[i].offsetWidth+this.marginRight);</span><br><span class="line">    &#125;</span><br><span class="line">    this.ul_wrap.style.width=this.ul_wrap_width+<span class="string">'px'</span>;</span><br><span class="line">    <span class="keyword">if</span>(this.ul_wrap_width&lt;this.warp_width)&#123;</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(this.autoScroll)&#123;</span><br><span class="line">         //执行无缝滚动</span><br><span class="line">         this.setTime=<span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">         　　_this.move();</span><br><span class="line">         &#125;,this.scrollSpeed);</span><br><span class="line">    &#125;                      </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">UcanSlide.prototype.move=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">　　　　<span class="keyword">if</span>(this.autoScroll)&#123;</span><br><span class="line">　　　　　　//自由滚动状态（自右向左）</span><br><span class="line">　　　　　　this.dirX=this.dirX-this.scrollStep;</span><br><span class="line">　　　　　　<span class="keyword">if</span>(this.dirX&lt;-this.ul_wrap_width/<span class="number">2</span>||this.dirX&gt;<span class="number">0</span>)&#123;</span><br><span class="line">　　　　　　　　this.dirX=<span class="number">0</span>;</span><br><span class="line">　　　　　　&#125;</span><br><span class="line">　　　　&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">　　　　　　//拖动状态</span><br><span class="line">　　　　　　<span class="keyword">if</span>(this.dirX&lt;-this.ul_wrap_width/<span class="number">2</span>)&#123;</span><br><span class="line">　　　　　　　　this.dirX=<span class="number">0</span>;</span><br><span class="line">　　　　　　&#125;<span class="keyword">else</span> <span class="keyword">if</span>(this.dirX&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">　　　　　　　　this.dirX=-this.ul_wrap_width/<span class="number">2</span>;</span><br><span class="line">　　　　　　&#125;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　this.ul_wrap.style.webkitTransform=<span class="string">'translate3d('</span>+this.dirX+<span class="string">'px,'</span>+<span class="string">'0px,0px)'</span>;</span><br><span class="line">&#125;;</span><br><span class="line">new UcanSlide(<span class="string">'.nav-container'</span>);</span><br></pre></td></tr></table></figure></p>
<p>无缝滚动部分差不多就是这样子了，现在再加上一个需求，就是当手指放在滚动部分时，可以拖动，手指离开时滚动继续。</p>
<p>此时，我们需要做的就是记录当前移动的位移：this.dirX；</p>
<p>注册touchstar、touchmove和touchend事件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//在init()函数里面添加</span><br><span class="line">this.ul_wrap.addEventListener(<span class="string">'touchstart'</span>,<span class="keyword">function</span>(e)&#123;</span><br><span class="line">     _this.touchStart(e);            </span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line">this.ul_wrap.addEventListener(<span class="string">'touchmove'</span>,<span class="keyword">function</span>(e)&#123;                        </span><br><span class="line">     _this.touchMove(e);</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line">this.ul_wrap.addEventListener(<span class="string">'touchend'</span>,<span class="keyword">function</span>(e)&#123;</span><br><span class="line">     _this.touchEnd(e);</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>touchStart()：主要功能就是清除循环滚动的计时器和记录手指当前触摸屏的x坐标；<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UcanSlide.prototype.touchStart=<span class="keyword">function</span>(e)&#123;                    </span><br><span class="line">     e.preventDefault();</span><br><span class="line">     clearInterval(this.setTime);</span><br><span class="line">    this.startX=e.targetTouches[<span class="number">0</span>].clientX;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>touchMove()：累加每次移动的位移</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UcanSlide.prototype.touchMove=<span class="keyword">function</span>(e)&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    this.autoScroll=<span class="literal">false</span>;</span><br><span class="line">    this.dirX+=e.targetTouches[<span class="number">0</span>].clientX-this.startX;</span><br><span class="line">    this.startX=e.targetTouches[<span class="number">0</span>].clientX;//记录前一次触屏坐标</span><br><span class="line">    this.move();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>touchEnd()：手指离开后开始滚动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UcanSlide.prototype.touchEnd=<span class="keyword">function</span>(e)&#123;</span><br><span class="line">    var _this=this;</span><br><span class="line">    this.autoScroll=<span class="literal">true</span>;</span><br><span class="line">    this.setTime=<span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        _this.move();</span><br><span class="line">    &#125;,this.scrollSpeed);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>最后调用，传入容器的class或者id都可以。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new UcanSlide(<span class="string">'.nav-container'</span>);</span><br></pre></td></tr></table></figure>
<p>效果演示：<br><img src="/uploads/artical_img/2016060202.gif" alt="示意图2"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>需求分析：<br>1、无缝滚动<br>2、触摸拖动<br>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[css3实现文字扫光渐变动画效果]]></title>
    <link href="http://yoursite.com/2016/05/31/20160531/"/>
    <id>http://yoursite.com/2016/05/31/20160531/</id>
    <published>2016-05-31T06:18:00.000Z</published>
    <updated>2017-05-22T14:24:16.713Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>利用css3这个属性（背景剪裁）：<br>background-clip: border-box || padding-box || context-box || no-clip || text<br>本次用到的就是:  -webkit-background-clip:text;</p>
</blockquote>
<p>栗子：<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .masked&#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        background-image: -webkit-linear-gradient(left, <span class="comment">#147B96, #E6D205 25%, #147B96 50%, #E6D205 75%, #147B96);</span></span><br><span class="line">        -webkit-text-fill-color: transparent;</span><br><span class="line">        -webkit-background-clip: text;</span><br><span class="line">        -webkit-background-size: <span class="number">200</span>% <span class="number">100</span>%;</span><br><span class="line">        -webkit-animation: masked-animation <span class="number">4</span>s infinite linear;</span><br><span class="line">      &#125;</span><br><span class="line">    @-webkit-keyframes masked-animation &#123;</span><br><span class="line">         <span class="number">0</span>%&#123; background-position: <span class="number">0</span> <span class="number">0</span>;&#125;</span><br><span class="line">         <span class="number">100</span>% &#123; background-position: -<span class="number">100</span>% <span class="number">0</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=<span class="string">"masked"</span> &gt;</span><br><span class="line">        &lt;h1&gt;→css3文字渐变动画效果 &gt;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>说明：</p>
<ul>
<li>-webkit-text-fill-color: transparent;(这里必须填充透明颜色，这样渐变的颜色才会填充到文字上面，去掉这个或者填充别的颜色，效果不明显)</li>
<li>检索或设置对象中的文字填充颜色，</li>
</ul>
<p>若同时设置 &lt;’ text-fill-color ‘&gt; 和 &lt;’ color ‘&gt;，&lt;’ text-fill-color ‘&gt; 定义的颜色将覆盖 &lt;’ color ‘&gt; 属性；<br>效果：</p>
<p><img src="/uploads/artical_img/2016053101.gif" alt="示意图1"></p>
<p>2、跟第一个栗子差不多，多给了一个背景颜色，从局部到全局渐变<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.slideShine&#123;</span><br><span class="line">     background:<span class="comment">#871317 -webkit-linear-gradient(left,#561214,#febaf7 50%,#ff0 90%,#561214) no-repeat 0 0;</span></span><br><span class="line">     background-size:<span class="number">20</span>% <span class="number">100</span>%; </span><br><span class="line">     -webkit-background-clip: text;</span><br><span class="line">     -webkit-text-fill-color: transparent;</span><br><span class="line">     font-size: <span class="number">36</span>px;</span><br><span class="line">     text-align: center;</span><br><span class="line">     font-weight: bold;</span><br><span class="line">     text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line">.slideShine &#123;-webkit-animation: slideShine <span class="number">4</span>s linear infinite;animation: slideShine <span class="number">4</span>s linear infinite;&#125;</span><br><span class="line">@-webkit-keyframes slideShine &#123;</span><br><span class="line">     <span class="number">0</span>% &#123;</span><br><span class="line">          background-position: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">     <span class="number">100</span>% &#123;</span><br><span class="line">          background-position: <span class="number">100</span>% <span class="number">100</span>%;</span><br><span class="line">      &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> @keyframes slideShine &#123;</span><br><span class="line">      <span class="number">0</span>% &#123;background-position: <span class="number">0</span> <span class="number">0</span>; &#125;</span><br><span class="line">     <span class="number">100</span>% &#123;background-position: <span class="number">100</span>% <span class="number">100</span>%; &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;p class=<span class="string">"slideShine"</span> &gt;→css3文字渐变动画效果 &gt;&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><img src="/uploads/artical_img/2016053102.gif" alt="示意图1"></p>
<p>3、用webkit遮罩来实现文字渐变动画<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.text&#123;position: relative;width: <span class="number">57</span>%;max-width:<span class="number">531</span>px ;&#125;</span><br><span class="line">.text .mask&#123;position: absolute;width: <span class="number">100</span>%;height: <span class="number">95</span>%;top: <span class="number">0</span>;left: <span class="number">0</span>;-webkit-mask-image:  url(img/text.png);&#125;            </span><br><span class="line">.text .mask i&#123;position: absolute;height:<span class="number">100</span>%;width: <span class="number">20</span>%;left:<span class="number">0</span>;top:<span class="number">0</span>;background:-webkit-linear-gradient(left,<span class="comment">#561214,#febaf7 50%,#ff0 90%,#561214) no-repeat 0 0;animation: lightLine1 4s linear infinite;-webkit-animation: lightLine1 4s linear infinite;background-size:100% 100%;&#125;</span></span><br><span class="line">@keyframes lightLine1&#123;</span><br><span class="line">    <span class="number">0</span>%&#123;transform:translateX(<span class="number">0</span>) ;&#125;                </span><br><span class="line">    <span class="number">100</span>%&#123;transform:translateX(<span class="number">500</span>%);&#125;</span><br><span class="line">&#125;</span><br><span class="line">@-webkit-keyframes lightLine1&#123;</span><br><span class="line">    <span class="number">0</span>%&#123;-webkit-transform:translateX(<span class="number">0</span>) ;&#125;                </span><br><span class="line">    <span class="number">100</span>%&#123;-webkit-transform:translateX(<span class="number">500</span>%) ;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=<span class="string">"text"</span> style=<span class="string">"margin: 150px auto;"</span>&gt;</span><br><span class="line">     &lt;img src=<span class="string">"img/text.png"</span> /&gt;</span><br><span class="line">     &lt;div class=<span class="string">"mask"</span>&gt;&lt;i&gt;&lt;/i&gt;&lt;/div&gt;    </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><img src="/uploads/artical_img/2016053103.gif" alt="示意图1"></p>
<p>4、实现多颜色文字的渐变<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.text2&#123;position: relative;width: <span class="number">63</span>%;max-width:<span class="number">586</span>px ;&#125;</span><br><span class="line">.text2 .mask&#123;position: absolute;width: <span class="number">100</span>%;height: <span class="number">95</span>%;top: <span class="number">0</span>;left: <span class="number">1</span>px;-webkit-mask-image:  url(img/text3.png);&#125;         </span><br><span class="line">.text2 .mask i&#123;position: absolute;height:<span class="number">100</span>%;width: <span class="number">20</span>%;left:<span class="number">0</span>;top:<span class="number">0</span>;background:-webkit-linear-gradient(left,<span class="comment">#561214,#febaf7 50%,#ff0 90%,#561214) no-repeat 0 0;animation: lightLine2 4s linear infinite;-webkit-animation: lightLine2 4s linear infinite;background-size:100% 100%;&#125;</span></span><br><span class="line">@keyframes lightLine2&#123;</span><br><span class="line">    <span class="number">0</span>%&#123;transform:translateX(<span class="number">0</span>) ;&#125;                </span><br><span class="line">    <span class="number">100</span>%&#123;transform:translateX(<span class="number">420</span>%);&#125;</span><br><span class="line">&#125;</span><br><span class="line">@-webkit-keyframes lightLine2&#123;</span><br><span class="line">    <span class="number">0</span>%&#123;-webkit-transform:translateX(<span class="number">0</span>) ;&#125;                </span><br><span class="line">    <span class="number">100</span>%&#123;-webkit-transform:translateX(<span class="number">420</span>%) ;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=<span class="string">"text2"</span> style=<span class="string">"margin: 150px auto;"</span>&gt;</span><br><span class="line">   &lt;img src=<span class="string">"img/text3.png"</span> /&gt;</span><br><span class="line">   &lt;div class=<span class="string">"mask"</span>&gt;&lt;i&gt;&lt;/i&gt;&lt;/div&gt;    </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>效果：</p>
<p><img src="/uploads/artical_img/2016053104.gif" alt="示意图1"></p>
<p>因为单纯用第一、二种方法实现不了多种文字的颜色，他都会被&lt;’ text-fill-color ‘&gt;定义的颜色覆盖，所以如果设置文字多种颜色的话，我就用图片来代替了，不过可以看出，用遮罩来实现文字渐变彩虹的效果不佳-^-</p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>利用css3这个属性（背景剪裁）：<br>background-clip: border-box || padding-box || context-box || no-clip || text<br>本次用到的就是:  -webkit-background-clip:text;</p>
</blockquote>
<p>栗子：<br>]]>
    
    </summary>
    
      <category term="css3" scheme="http://yoursite.com/tags/css3/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[查找字符串中重复字符个数]]></title>
    <link href="http://yoursite.com/2016/05/29/20160529/"/>
    <id>http://yoursite.com/2016/05/29/20160529/</id>
    <published>2016-05-29T13:18:00.000Z</published>
    <updated>2017-05-22T14:45:21.556Z</updated>
    <content type="html"><![CDATA[<p>Array.prototype.reduce(callback，initialVal)：<br><a id="more"></a><br>例：arr=[0,1,2,3,4];<br>callback可以传4个参数：<br>          previousValue：上次调用回调参数的值。如果传入initialVal，那么首次previousValue=initialVal，不传则默认为arr[0]；<br>          currentValue：数组当前被处理的值。如果传入initialVal，那么首次currentValue=arr[0]，不传则为arr[1];<br>          index：当前值的索引。如果传入initialVal，那么首次index=0，不传则为1；<br>          array：传入的数组<br>initialVal： 可选参数, 作为第一次调用 callback 的第一个参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var str= <span class="string">"abasfsfsfsfssbsw"</span> ;</span><br><span class="line">var arr = str.split(<span class="string">''</span> );</span><br><span class="line">var obj= &#123;&#125;;</span><br><span class="line">var info= arr.reduce( <span class="keyword">function</span> (pre , cur, index ,arr )&#123;</span><br><span class="line">     <span class="keyword">if</span> (index== <span class="number">1</span> )&#123;</span><br><span class="line">          obj[pre] = <span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (obj[cur])&#123;</span><br><span class="line">          obj[cur] ++ ;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          obj[cur] = <span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="built_in">return</span> obj;</span><br><span class="line">&#125;)</span><br><span class="line">console .log(info);//&#123;a: <span class="number">2</span>, b: <span class="number">2</span>, s: <span class="number">7</span>, f: <span class="number">4</span>, w: <span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<p>Array.prototype.reduce(callback，initialVal)：<br>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[数组去重的几种方法]]></title>
    <link href="http://yoursite.com/2016/05/28/20160528/"/>
    <id>http://yoursite.com/2016/05/28/20160528/</id>
    <published>2016-05-28T12:18:00.000Z</published>
    <updated>2017-05-22T14:41:06.448Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>总结几种用js方法实现数组去重</p>
</blockquote>
<a id="more"></a>
<p>a.对比方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//数组去重</span><br><span class="line">var arr= [ <span class="number">1</span>, <span class="number">2</span> ,<span class="number">3</span> , <span class="number">3</span>, <span class="number">5</span> ,<span class="number">2</span> , <span class="number">1</span>];</span><br><span class="line">var res= [];</span><br><span class="line"><span class="keyword">for</span> (var i =<span class="number">0</span> ,len =arr.length;i &lt; len;i++ )&#123;</span><br><span class="line">     <span class="keyword">for</span> (var j =<span class="number">0</span> ;j &lt;arr.length;j ++ )&#123;</span><br><span class="line">         <span class="keyword">if</span> (arr[i]== arr[j] &amp;&amp;i !== j)&#123;</span><br><span class="line">            arr.splice(j, <span class="number">1</span> );</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">console .log(arr)//[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p>
<p>b、对象判断法<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var  arr =[ <span class="number">1</span> ,<span class="number">2</span> , <span class="number">3</span>, <span class="number">3</span> ,<span class="number">5</span> , <span class="number">2</span>, <span class="number">1</span> ];</span><br><span class="line">var res= [],obj =&#123;&#125;,i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (;i&lt; arr.length;i ++)&#123;</span><br><span class="line">  // console .log(i,obj[arr[i]]);</span><br><span class="line">     <span class="keyword">if</span> (! obj[arr[i]])&#123;</span><br><span class="line">         res.push(arr[i]);</span><br><span class="line">         obj[arr[i]] = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">console .log(res,obj);//[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p>
<p>c、es6方法去重<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//includes属于es7方法</span><br><span class="line">//数组查询ES6写法</span><br><span class="line"> <span class="built_in">let</span> arr1= [ <span class="number">1</span>, <span class="number">2</span> ,<span class="number">3</span> , <span class="number">3</span>, <span class="number">5</span> ,<span class="number">2</span> , <span class="number">1</span>];</span><br><span class="line"> <span class="built_in">let</span> res= [];</span><br><span class="line"> <span class="keyword">for</span> (var [i,value] of arr1.entries())&#123;</span><br><span class="line">     <span class="keyword">if</span> (! res.includes(value))&#123;</span><br><span class="line">         res.push(value);</span><br><span class="line">      &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> console .log(res);//[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p>
<p>d、数组indexOf方法<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//indexof方法</span><br><span class="line">var arr2= [ <span class="number">1</span>, <span class="number">2</span> ,<span class="number">3</span> , <span class="number">3</span>, <span class="number">5</span> ,<span class="number">2</span> , <span class="number">1</span>],res2 = [];</span><br><span class="line"><span class="keyword">for</span> (var i =<span class="number">0</span> ;i &lt;arr2.length;i ++ )&#123;</span><br><span class="line">    <span class="keyword">if</span> (res2.indexOf(arr2[i]) ==-<span class="number">1</span> )&#123;</span><br><span class="line">        res2.push(arr2[i]);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">console .log(res2);//[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>总结几种用js方法实现数组去重</p>
</blockquote>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[JS 在指定数组中随机取出N个不重复的数据]]></title>
    <link href="http://yoursite.com/2016/05/23/20160523/"/>
    <id>http://yoursite.com/2016/05/23/20160523/</id>
    <published>2016-05-23T06:18:00.000Z</published>
    <updated>2017-05-22T14:52:55.552Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>思路：每次随机从数组抽出一个数放进新的数组，然后将这个数从原数组中剔除，这个就不会抽到重复的数了*</p>
</blockquote>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> makeRandomArr(arrList,num)&#123;</span><br><span class="line">    <span class="keyword">if</span>(num&gt;arrList.length)&#123;</span><br><span class="line">       <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">//    var tempArr=arrList.concat();    </span><br><span class="line">    var tempArr=arrList.slice(<span class="number">0</span>);</span><br><span class="line">    var newArrList=[];    </span><br><span class="line">    <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;num;i++)&#123;</span><br><span class="line">        var random=Math.floor(Math.random()*(tempArr.length-<span class="number">1</span>));</span><br><span class="line">        var arr=tempArr[random];</span><br><span class="line">        tempArr.splice(random, <span class="number">1</span>);</span><br><span class="line">        newArrList.push(arr);    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> newArrList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：数组的赋值，例如直接将arr1赋值给arr2，那么改变arr2，arr1也会发生改变，因为他们的都指向一个内存容器。所以我为了不改变原数组，用了下面其中一个方法。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var tempArr=arrList.concat(); //返回数组的拷贝数组，注意是一个新的数组，不是指向</span><br><span class="line">var tempArr=arrList.slice(<span class="number">0</span>);//返回数组的拷贝数组，注意是一个新的数组，不是指向</span><br></pre></td></tr></table></figure></p>
<p>栗子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var <span class="built_in">test</span>Arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>];</span><br><span class="line">var <span class="built_in">test</span>=makeRandomArr(<span class="built_in">test</span>Arr,<span class="number">7</span>);</span><br><span class="line">console.log(<span class="built_in">test</span>);//<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">15</span></span><br><span class="line">console.log(<span class="built_in">test</span>Arr);//<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span></span><br></pre></td></tr></table></figure></p>
<p>20160606更新：如果数组原本就存在重复数据，那么应该考虑先去重，后抽取数据的方法比较稳妥</p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>思路：每次随机从数组抽出一个数放进新的数组，然后将这个数从原数组中剔除，这个就不会抽到重复的数了*</p>
</blockquote>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[三级联动下拉选项（年月日选择）]]></title>
    <link href="http://yoursite.com/2016/05/03/20160503/"/>
    <id>http://yoursite.com/2016/05/03/20160503/</id>
    <published>2016-05-03T12:53:00.000Z</published>
    <updated>2017-05-22T14:50:22.685Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>jq实现三级联动年月日…</p>
</blockquote>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">        &lt;title&gt;三级联动年月日&lt;/title&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"keywords"</span> content=<span class="string">"关键字列表"</span> /&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"description"</span> content=<span class="string">"网页描述"</span> /&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> <span class="built_in">type</span>=<span class="string">"text/css"</span> href=<span class="string">""</span> /&gt;</span><br><span class="line">        &lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"js/jquery-1.9.1.min.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            body&#123;padding: <span class="number">0</span>;margin: <span class="number">0</span>;&#125;</span><br><span class="line">            .content&#123;width: <span class="number">1000</span>px;margin: <span class="number">50</span>px auto;padding: <span class="number">0</span>;&#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=<span class="string">"content"</span>&gt;</span><br><span class="line">            &lt;select id=<span class="string">"year"</span>&gt;</span><br><span class="line">                &lt;option value=<span class="string">"0"</span>&gt;--请选择--&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;年</span><br><span class="line">            &lt;select id=<span class="string">"month"</span>&gt;</span><br><span class="line">                &lt;option value=<span class="string">"0"</span>&gt;--请选择--&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;月</span><br><span class="line">            &lt;select id=<span class="string">"day"</span>&gt;</span><br><span class="line">                &lt;option value=<span class="string">"0"</span>&gt;--请选择--&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;日</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                <span class="keyword">function</span> selectFun(eleId,start,end)&#123;                    </span><br><span class="line">                    <span class="keyword">for</span>(start;start&lt;=end;start++)&#123;</span><br><span class="line">                        eleId.add(new Option(start,start));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                var startY=<span class="number">1970</span>;</span><br><span class="line">                var end=new Date().getFullYear();</span><br><span class="line">                var year=document.getElementById(<span class="string">"year"</span>);</span><br><span class="line">                var month=document.getElementById(<span class="string">"month"</span>);</span><br><span class="line">                var day=document.getElementById(<span class="string">"day"</span>)</span><br><span class="line">                selectFun(year,startY,end);</span><br><span class="line">                year.onchange=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                    month.length=<span class="number">1</span>;</span><br><span class="line">                    day.length = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(this.value!=<span class="number">0</span>)&#123;                        </span><br><span class="line">                        selectFun(month,<span class="number">1</span>,<span class="number">12</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                month.onchange=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                    day.length = <span class="number">1</span>;</span><br><span class="line">                    var value=this.value;</span><br><span class="line">                    <span class="keyword">if</span>(value!=<span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(value==<span class="number">2</span>)&#123;</span><br><span class="line">                            console.log(<span class="string">'2----'</span>);</span><br><span class="line">                            <span class="keyword">if</span>(<span class="keyword">if</span>RunYear(year.value))&#123;</span><br><span class="line">                                selectFun(day,<span class="number">1</span>,<span class="number">29</span>);</span><br><span class="line">                            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                                selectFun(day,<span class="number">1</span>,<span class="number">28</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value==<span class="number">4</span>||value==<span class="number">6</span>||value==<span class="number">9</span>||value==<span class="number">11</span>)&#123;</span><br><span class="line">                            console.log(<span class="string">'30----'</span>);</span><br><span class="line">                            selectFun(day,<span class="number">1</span>,<span class="number">30</span>);</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            console.log(<span class="string">'31----'</span>);</span><br><span class="line">                            selectFun(day,<span class="number">1</span>,<span class="number">31</span>);</span><br><span class="line">                        &#125;                        </span><br><span class="line">                    &#125;                    </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">function</span> <span class="keyword">if</span>RunYear(year)&#123;</span><br><span class="line">                    <span class="built_in">return</span> (year% <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || (year % <span class="number">100</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">400</span> == <span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)();</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>jq实现三级联动年月日…</p>
</blockquote>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[常用的markdown语法]]></title>
    <link href="http://yoursite.com/2015/11/28/20151128/"/>
    <id>http://yoursite.com/2015/11/28/20151128/</id>
    <published>2015-11-28T07:14:00.000Z</published>
    <updated>2017-05-05T03:24:05.971Z</updated>
    <content type="html"><![CDATA[<h2 id="段落、换行">段落、换行</h2><blockquote>
<p>一个Markdown段落是由一个或多个连续的文本行组成，它的前后要有<code>一个以上的空行</code>（空行的定义是显示上看起来像是空的，便会被视为空行</p>
</blockquote>
<h2 id="标题">标题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是H1</span></span><br><span class="line"><span class="comment">## 这是H2</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"><span class="comment">###### 这是H6</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="区块引用_Blockquotes">区块引用 Blockquotes</h2><blockquote>
<p>用<code>&gt;</code>的引用方式，符号标记后至少接一个空格或制表符：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; this is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span><br><span class="line">&gt; consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span><br><span class="line">&gt; Vestibulum enim wisi, viverra nec, fringilla <span class="keyword">in</span>, laoreet vitae, risus</span><br></pre></td></tr></table></figure>
<p>也可以在整段文字的第一行前面加<code>&gt;</code>:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; this is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,</span><br><span class="line">consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span><br><span class="line">Vestibulum enim wisi, viverra nec, fringilla <span class="keyword">in</span>, laoreet vitae, risus</span><br></pre></td></tr></table></figure></p>
<h2 id="列表">列表</h2><h3 id="无序列表">无序列表</h3><blockquote>
<p>无序列表使用<code>星号(*)</code>、<code>加号(+)</code>或是<code>减号(-)</code>作为列表标记：</p>
</blockquote>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*   </span>Red</span><br><span class="line"><span class="bullet">*   </span>Green</span><br><span class="line"><span class="bullet">*   </span>Blue</span><br></pre></td></tr></table></figure>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<h3 id="有序列表">有序列表</h3><blockquote>
<p>有序列表使用数字接着一个英文句点，数字可以是不按序号来，但是养成好习惯，还是从1开始计算：</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>   Red</span><br><span class="line"><span class="number">2.</span>   Green</span><br><span class="line"><span class="number">3.</span>   Blue</span><br></pre></td></tr></table></figure>
<ol>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ol>
<h2 id="分隔线">分隔线</h2><p>你可以在一行中用<code>三个以上的星号、减号、底线</code>来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">*</span> <span class="keyword">*</span> <span class="keyword">*</span></span><br><span class="line"><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line">- - -</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure></p>
<h2 id="链接">链接</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="link_label">title</span>](<span class="link_url">url</span>)</span><br></pre></td></tr></table></figure>
<h2 id="添加图片的方法：">添加图片的方法：</h2><p>行内式的图片语法:<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">图片为：![<span class="link_label">图片说明</span>](<span class="link_url">图片路径</span>)</span><br></pre></td></tr></table></figure></p>
<p>参考式的图片语法:<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="link_label">图片说明</span>][<span class="link_reference">id</span>]</span><br></pre></td></tr></table></figure></p>
<p>「id」是图片参考的名称，图片参考的定义方式则和链接参考一样：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="property">id</span>]: url/<span class="keyword">to</span>/image  <span class="string">"Optional title attribute"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="强调">强调</h2><blockquote>
<p>Markdown 使用星号（<em>）和底线（_）作为标记强调字词的符号，被 </em> 或 <em> 包围的字词会被转成用 <em> 标签包围，用两个 * 或 </em> 包起来的话，则会被转成 &lt; strong &gt;</em></p>
</blockquote>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">*</span>single asterisks<span class="keyword">*</span></span><br><span class="line"></span><br><span class="line">_single underscores_</span><br><span class="line"></span><br><span class="line"><span class="keyword">*</span><span class="keyword">*</span>double asterisks<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"></span><br><span class="line">__double underscores__</span><br></pre></td></tr></table></figure>
<p>表现如下：<br><em>single asterisks</em></p>
<p><em>single underscores</em></p>
<p><strong>double asterisks</strong></p>
<p><strong>double underscores</strong></p>
<p>如果要在文字前后直接插入普通的星号或底线，你可以用反斜线：<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">\*this</span> text <span class="keyword">is</span> surrounded <span class="keyword">by</span> literal asterisks<span class="string">\*</span></span><br></pre></td></tr></table></figure></p>
<h2 id="代码">代码</h2><p>行内代码可以用一对<em>反引号（`）</em>包起来：</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Use</span> the `printf()` <span class="function"><span class="keyword">function</span>.</span></span><br></pre></td></tr></table></figure>
<p>如果是插入代码块，则用多个反引号包起来，一般习惯用3个反引号</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="escape">``</span><span class="escape">`T</span>here is <span class="literal">a</span> literal backtick (<span class="escape">`)</span> here.<span class="escape">``</span><span class="escape">`/</span></span><br></pre></td></tr></table></figure>
<p><strong>最后，Markdown 支持以下这些符号前面加上反斜杠（/）来帮助插入普通的符号：</strong></p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   反斜线</span><br><span class="line">`   反引号</span><br><span class="line"><span class="bullet">*   </span>星号</span><br><span class="line">_   底线</span><br><span class="line">&#123;&#125;  花括号</span><br><span class="line">[]  方括号</span><br><span class="line">()  括弧</span><br><span class="line">/#   井字号</span><br><span class="line">+   加号</span><br><span class="line"><span class="bullet">-   </span>减号</span><br><span class="line"><span class="bullet">.   </span>英文句点</span><br><span class="line">!   惊叹号</span><br></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="段落、换行">段落、换行</h2><blockquote>
<p>一个Markdown段落是由一个或多个连续的文本行组成，它的前后要有<code>一个以上的空行</code>（空行的定义是显示上看起来像是空的，便会被视为空行</p>
</blockquote>
<h2 id="标题">标题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是H1</span></span><br><span class="line"><span class="comment">## 这是H2</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"><span class="comment">###### 这是H6</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="markdown" scheme="http://yoursite.com/tags/markdown/"/>
    
      <category term="随笔" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[js原生图片拼图Demo]]></title>
    <link href="http://yoursite.com/2015/11/23/20151122/"/>
    <id>http://yoursite.com/2015/11/23/20151122/</id>
    <published>2015-11-23T04:59:00.000Z</published>
    <updated>2017-05-22T15:22:23.331Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>博客总是断断续续，我的语言组织能力太差劲了，总说不明白，但是有感觉直贴代码又不好，好囧。。。<br>自从找着了工作后已经有将近三个月没有写博客啦。最近在加强js的逻辑练习，所以收集了一些js小练习，手把手把它敲出来了。我把它记录下来，我的学习分享，嘿嘿。。。</p>
</blockquote>
<a id="more"></a>
<p>贴下效果界面：<br><img src="/uploads/artical_img/2015112301.jpg" alt="图1"></p>
<p>这个拼图游戏主要分为几个步骤：</p>
<p>（1）小图片列表切换，点击显示相应的大图（大图是由20张小图片拼连起来的）</p>
<p>（2）点击开始游戏后，20张小图片随机排序</p>
<p>（3）此时鼠标移到大图上显示移动状态，可以拖动，开始记录时间</p>
<p>（4）碎片拼成原图后显示拼图成功以及所花的时间</p>
<p>下面我来分解一下流程：</p>
<p>（1）先展示html及css的代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">        &lt;title&gt;拼图游戏&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            body,ul,li&#123;margin:<span class="number">0</span>;padding:<span class="number">0</span>;text-align: center;&#125;</span><br><span class="line">            body&#123;font:<span class="number">30</span>px/<span class="number">1.5</span> Tahoma;&#125;</span><br><span class="line">            <span class="comment">#box&#123;position:relative;width:1024px;height:768px;margin:10px auto;background:#808080;&#125;</span></span><br><span class="line">            <span class="comment">#box li&#123;float:left;width:256px;height:154px;overflow:hidden;&#125;</span></span><br><span class="line">            <span class="comment">#box li img&#123;width:256px;height:154px;&#125;</span></span><br><span class="line">            <span class="comment">#box li.hig&#123;width:256px;height:154px;overflow:hidden;border:2px dashed yellow;&#125;</span></span><br><span class="line">            <span class="comment">#box li.hig img&#123;width:256px;height:154px;opacity:0.5;filter:alpah(opacity=50);&#125;</span></span><br><span class="line">            <span class="comment">#mask&#123;position:absolute;top:0;left:0;width:1024px;height:768px;background:red;opacity:0;filter:alpha(opacity=0);&#125;</span></span><br><span class="line">            input&#123;cursor:pointer;&#125;</span><br><span class="line">            <span class="comment">#photo&#123;text-align:center;margin:10px 0;&#125;</span></span><br><span class="line">            <span class="comment">#photo img&#123;width:100px;height:auto;border-radius:5px;margin:0 5px;opacity:0.5;filter:alpha(opacity=50);cursor:pointer;&#125;</span></span><br><span class="line">            <span class="comment">#photo img.hover&#123;opacity:1;filter:alpha(opacity=100);&#125;</span></span><br><span class="line">            <span class="comment">#photo img.selected&#123;border:2px solid yellow;width:96px;height:auto;opacity:1;filter:alpha(opacity=100);&#125;</span></span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id=<span class="string">"photo"</span>&gt;&lt;img src=<span class="string">"img/flower/img_01.jpg"</span> class=<span class="string">"selected"</span> /&gt;&lt;img src=<span class="string">"img/flower/img_02.jpg"</span> /&gt;&lt;img src=<span class="string">"img/flower/img_03.jpg"</span> /&gt;&lt;/div&gt;</span><br><span class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"开始游戏"</span> id=<span class="string">"play-btn"</span>/&gt;</span><br><span class="line">        &lt;ul id=<span class="string">"box"</span>&gt;&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>首先实现如下的效果：<br><img src="/uploads/artical_img/2015112302.gif" alt="图2"></p>
<p>说明：鼠标悬浮到小图片上，图片透明度变为50%，点击图片，产生黄色边框，下面的大图也跟着变化，点击开始按钮，内容会变成重新开始</p>
<p>js代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">var oPhoto=document.getElementById(<span class="string">"photo"</span>);</span><br><span class="line">var aThumbImg=oPhoto.getElementsByTagName(<span class="string">'img'</span>);</span><br><span class="line">var oStartBtn=document.getElementById(<span class="string">"play-btn"</span>);</span><br><span class="line">var oBox=document.getElementById(<span class="string">"box"</span>);</span><br><span class="line">var isRandom=<span class="literal">false</span>;</span><br><span class="line">var dirPath=<span class="number">0</span>;</span><br><span class="line">   var odata=[];</span><br><span class="line"><span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line">    var temp=i+<span class="number">1</span>;</span><br><span class="line">    odata.push(temp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;aThumbImg.length;i++)&#123;</span><br><span class="line">    aThumbImg[i].index=i;</span><br><span class="line">&#125;</span><br><span class="line">oPhoto.onmouseover=<span class="keyword">function</span>(ev)&#123;</span><br><span class="line">    var ev = ev || window.event;</span><br><span class="line">        var target = ev.target || ev.srcElement;</span><br><span class="line">        <span class="keyword">if</span>(target.nodeName.toLowerCase()==<span class="string">'img'</span>)&#123;</span><br><span class="line">            target.className+=<span class="string">' hover'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">oPhoto.onmouseout=<span class="keyword">function</span>(ev)&#123;</span><br><span class="line">    var ev = ev || window.event;</span><br><span class="line">        var target = ev.target || ev.srcElement;</span><br><span class="line">        <span class="keyword">if</span>(target.nodeName.toLowerCase()==<span class="string">'img'</span>)&#123;</span><br><span class="line">               target.className=target.className.replace(/\shover/,<span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">oPhoto.onclick=<span class="keyword">function</span>(ev)&#123;</span><br><span class="line">    var ev = ev || window.event;</span><br><span class="line">        var target = ev.target || ev.srcElement;</span><br><span class="line">        <span class="keyword">if</span>(target.nodeName.toLowerCase()==<span class="string">'img'</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;aThumbImg.length;i++)&#123;</span><br><span class="line">                aThumbImg[i].className=<span class="string">''</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            target.className=<span class="string">'selected'</span>;</span><br><span class="line">            dirPath=target.index;</span><br><span class="line">            oStartBtn.value=<span class="string">'开始游戏'</span>;</span><br><span class="line">        oBox.innerHTML=<span class="string">""</span></span><br><span class="line">        odata.sort(<span class="keyword">function</span>(a,b)&#123;</span><br><span class="line">            <span class="built_in">return</span> a-b;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">oStartBtn.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.value=<span class="string">"重新开始"</span>;</span><br><span class="line">    oBox.innerHTML=<span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面都是比较简单的，这个游戏的核心还是在于边界判断，移动上。</p>
<p>（2）现在来实现拖动这一部分，先讲解onmousedown和onmousemove事件</p>
<p>2.1 首先，还未开始游戏时，我设置了一层遮罩，就是不让其拖动，所以我们来建个遮罩层，也是放在id=’box’里面，跟li同级。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">oPhoto.onclick=<span class="keyword">function</span>(ev)&#123;</span><br><span class="line">    creatMask();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">creatMask</span></span>()&#123;</span><br><span class="line">    var mask=document.createElement(<span class="string">'div'</span>);</span><br><span class="line">    mask.id=<span class="string">'mask'</span>;</span><br><span class="line">    mask.style.zIndex=zIndex;</span><br><span class="line">    oBox.appendChild(mask);                    </span><br><span class="line">&#125;</span><br><span class="line">creatMask();</span><br></pre></td></tr></table></figure></p>
<p>当进入页面是生成遮罩层，点击小图片时，遮罩层还存在，只有点击开始游戏时，才会移除遮罩层。这时候，图片切块才能开始拖动。</p>
<p>2.2 点击开始游戏，给图片切块注册onmousedown和onmousemove事件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> drag(obj)&#123;</span><br><span class="line">  obj.style.cursor=<span class="string">'move'</span>;                      </span><br><span class="line">     obj.onmousedown=<span class="keyword">function</span>(event)&#123;</span><br><span class="line">    var event=event||window.event;</span><br><span class="line">    event.preventDefault();</span><br><span class="line">    var start_x=event.clientX-this.offsetLeft;</span><br><span class="line">    var start_y=event.clientY-this.offsetTop;                            </span><br><span class="line">    obj.style.zIndex = zIndex++;                                                                </span><br><span class="line">　　　　document.onmousemove=<span class="keyword">function</span>(event)&#123;</span><br><span class="line">        var event=event||window.event;</span><br><span class="line">        event.preventDefault();</span><br><span class="line">        var iL=event.clientX-start_x;</span><br><span class="line">        var iT=event.clientY-start_y;</span><br><span class="line">        var maxL=obj.parentNode.clientWidth-obj.offsetWidth;</span><br><span class="line">        var maxT=obj.parentNode.clientHeight-obj.offsetHeight;</span><br><span class="line">       //边界判断                    </span><br><span class="line">        <span class="keyword">if</span>(iL&lt;<span class="number">0</span>)&#123;iL=<span class="number">0</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(iT&lt;<span class="number">0</span>)&#123;iT=<span class="number">0</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(iL&gt;maxL)&#123;iL=maxL;&#125;</span><br><span class="line">        <span class="keyword">if</span>(iT&gt;maxT)&#123;iT=maxT;&#125;</span><br><span class="line">        obj.style.left=iL+<span class="string">'px'</span>;</span><br><span class="line">        obj.style.top=iT+<span class="string">'px'</span>;      </span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的代码主要实现了图片拖动，且拖动范围不能超过box的范围。</p>
<p>好了，现在要实现拖动的小块与周边的切片的碰撞检测，与之最近的切块显示黄色边框<br>效果：</p>
<p><img src="/uploads/artical_img/2015112303.gif" alt="图3"></p>
<p>这其中的原理是：  查找拖动块附近的最近的li，然后给li容器添加黄色边线。</p>
<p>js代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> findNear(obj)&#123;</span><br><span class="line">       var minLi=null;</span><br><span class="line">       var minNum=Number.MAX_VALUE;</span><br><span class="line">       var filterLi=[];</span><br><span class="line">       var aDistance=[];</span><br><span class="line">       <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;aLi.length;i++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(aLi[i]!=obj&amp;&amp;isButt(obj,aLi[i]))&#123;                                </span><br><span class="line">               aDistance.push(getDistance(obj,aLi[i]));</span><br><span class="line">               filterLi.push(aLi[i]);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       var minNum=Number.MAX_VALUE;</span><br><span class="line">       //遍历查询最小值</span><br><span class="line">       <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;aDistance.length;i++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(aDistance[i]&lt;minNum)&#123;</span><br><span class="line">               minNum=aDistance[i];</span><br><span class="line">               minLi=filterLi[i];</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">return</span> minLi;</span><br><span class="line">   &#125;    </span><br><span class="line"><span class="keyword">function</span> isButt(obj1,obj2)&#123;</span><br><span class="line">       var l1=obj1.offsetLeft;</span><br><span class="line">       var lw1=obj1.offsetWidth+l1;</span><br><span class="line">       var t1=obj1.offsetTop;</span><br><span class="line">       var th1=obj1.offsetTop+t1;</span><br><span class="line">       </span><br><span class="line">       var l2=obj2.offsetLeft;</span><br><span class="line">       var lw2=obj2.offsetWidth+l2;</span><br><span class="line">       var t2=obj2.offsetTop;</span><br><span class="line">       var th2=obj2.offsetTop+t2;</span><br><span class="line">       //上下左右判断</span><br><span class="line">       <span class="built_in">return</span> !(th2&lt;t1||th1&lt;t2||lw2&lt;l1||lw1&lt;l2);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">function</span> getDistance(obj1,obj2)&#123;</span><br><span class="line">       var dir_x=(obj1.offsetLeft+obj1.offsetWidth/<span class="number">2</span>)-(obj2.offsetLeft+obj2.offsetWidth/<span class="number">2</span>);</span><br><span class="line">       var dir_y=(obj1.offsetTop+obj1.offsetHeight/<span class="number">2</span>)-(obj2.offsetTop+obj2.offsetHeight/<span class="number">2</span>);</span><br><span class="line">       var dir=Math.sqrt(dir_x*dir_x+dir_y*dir_y);</span><br><span class="line">       <span class="built_in">return</span> dir;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>然后在onmousedown里面调用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var oNear=null;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; aLi.length; i++) aLi[i].className = <span class="string">""</span>;</span><br><span class="line">  oNear=findNear(obj);//返回一个最靠近obj的块</span><br><span class="line">//对最近的块显示黄色边框</span><br><span class="line">  <span class="keyword">if</span>(oNear)&#123;</span><br><span class="line">       oNear.className=<span class="string">'hig'</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
<p>边界判断、isButt()函数、 findNear()函数和的分析图：<br><img src="/uploads/artical_img/2015112304.jpg" alt="图4"><br><img src="/uploads/artical_img/2015112305.jpg" alt="图5"><br><img src="/uploads/artical_img/2015112306.jpg" alt="图6"></p>
<p>（3）实现了移动拖动这一部分，那么鼠标释放时，又怎么实现拖动块与最近切片的位置交换呢。</p>
<p>首先，得先清楚一点，取个例子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">"box"</span>&gt;</span><br><span class="line">   &lt;li&gt;<span class="number">1</span>&lt;/li&gt;</span><br><span class="line">   &lt;li&gt;<span class="number">2</span>&lt;/li&gt;</span><br><span class="line">   &lt;li&gt;<span class="number">3</span>&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure></p>
<p>不管你怎么拖动里标签，改变的只是他的left和top，li标签在文档的先后顺序是不会改变的。那我们来看看li标签拖动过程的变化，如下图：</p>
<p><img src="/uploads/artical_img/2015112307.jpg" alt="图7"></p>
<p>js代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">document.onmouseup=<span class="keyword">function</span>(event)&#123;</span><br><span class="line">     document.onmousemove = null;//移除事件</span><br><span class="line">     document.onmouseup = null;</span><br><span class="line">     var event=event||window.event;</span><br><span class="line">     event.preventDefault();</span><br><span class="line">     //鼠标释放后碎片与目标碎片对换</span><br><span class="line">     <span class="keyword">if</span>(oNear)&#123;</span><br><span class="line">        var obj_index=obj.index;</span><br><span class="line">        obj.index=oNear.index;</span><br><span class="line">        oNear.index=obj_index;</span><br><span class="line">       //obj移动到oNear的位置</span><br><span class="line">        startMove(obj,oPos[obj.index]);</span><br><span class="line">        //oNear移动到obj的位置</span><br><span class="line">        startMove(oNear,oPos[oNear.index],<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            //判断碎片是否还原成功</span><br><span class="line">     //      console.log(finish());</span><br><span class="line">            <span class="keyword">if</span>(finish())&#123;</span><br><span class="line">               alert(<span class="string">'恭喜你，拼图游戏完美成功！！！'</span>);</span><br><span class="line">               creatMask();</span><br><span class="line">            &#125;                                        </span><br><span class="line">        &#125;);</span><br><span class="line">        oNear.className=<span class="string">""</span>;//移除黄色边框</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         //回到原位</span><br><span class="line">         startMove(obj,oPos[obj.index]);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">function</span> startMove(obj,pos,onEnd)&#123;</span><br><span class="line">    obj.timer=<span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">         <span class="keyword">do</span>Move(obj,pos,onEnd);                    </span><br><span class="line">    &#125;,<span class="number">30</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="keyword">do</span>Move(obj,pos,onEnd)&#123;</span><br><span class="line">    var curOffsetLeft=obj.offsetLeft;</span><br><span class="line">    var curOffsetTop=obj.offsetTop;</span><br><span class="line">   //下面设置图片碎片每次向目标点移动的位移</span><br><span class="line">    var speedL=(pos.left-curOffsetLeft)/<span class="number">5</span>;</span><br><span class="line">    var speedT=(pos.top-curOffsetTop)/<span class="number">5</span>;</span><br><span class="line">                    </span><br><span class="line">    speedL=speedL&gt;<span class="number">0</span> ? Math.ceil(speedL) : Math.floor(speedL);</span><br><span class="line">    speedT=speedT&gt;<span class="number">0</span> ? Math.ceil(speedT) : Math.floor(speedT);</span><br><span class="line">    obj.style.left=(curOffsetLeft+speedL)+<span class="string">'px'</span>;                    </span><br><span class="line">    obj.style.top=(curOffsetTop+speedT)+<span class="string">'px'</span>;</span><br><span class="line">   //当obj的left等于对换oNear所保存的left，说明已经和它完全吻合了。此时移除计时器。</span><br><span class="line">    <span class="keyword">if</span>(curOffsetLeft==pos.left &amp;&amp; curOffsetTop==pos.top)&#123;</span><br><span class="line">        clearInterval(obj.timer);</span><br><span class="line">        //如果传入回调函数，则执行回调函数</span><br><span class="line">        onEnd &amp;&amp; onEnd();</span><br><span class="line">//      <span class="built_in">return</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">finish</span></span>()&#123;</span><br><span class="line">     var success=<span class="literal">true</span>;</span><br><span class="line">     var tempArr=[];</span><br><span class="line">     tempArr.length=<span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;aLi.length;i++)&#123;</span><br><span class="line">         <span class="keyword">for</span>(var j=<span class="number">0</span>;j&lt;aLi.length;j++)&#123;</span><br><span class="line">             <span class="keyword">if</span>(i==aLi[j][<span class="string">'index'</span>])&#123;</span><br><span class="line">               //li标签内图片的序号添加进数组</span><br><span class="line">                var img=aLi[j].getElementsByTagName(<span class="string">'img'</span>)[<span class="number">0</span>];</span><br><span class="line">               //返回匹配到的子集元素</span><br><span class="line">                var srcIndex=img.src.match(/\/(\d+).jpg/)[<span class="number">1</span>];</span><br><span class="line">//                console.log(srcIndex);</span><br><span class="line">                tempArr.push(srcIndex);</span><br><span class="line">              &#125;</span><br><span class="line">           &#125;                        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span>(var i=<span class="number">1</span>;i&lt;=tempArr.length;i++)&#123;</span><br><span class="line">          <span class="keyword">if</span>(i!=tempArr[i-<span class="number">1</span>])&#123;</span><br><span class="line">             success=<span class="literal">false</span>;</span><br><span class="line">             <span class="built_in">break</span>;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="built_in">return</span> success;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>好啦，整个过程就是这样子。拿来练手还是不错的。</p>
<p>demo中的图片碎片是我原先切好的，其实我本来是想将原图用程序裁切的，奈何技术不够，所以只能用ps处理了一下，这是我觉得比较遗憾的事啦，有兴趣的你可以实现一下呗。。。</p>
<p>这里是demo的源代码地址：<a href="https://coding.net/u/U_can/p/puzzleGame/git" target="_blank" rel="external">https://coding.net/u/U_can/p/puzzleGame/git</a>。</p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>博客总是断断续续，我的语言组织能力太差劲了，总说不明白，但是有感觉直贴代码又不好，好囧。。。<br>自从找着了工作后已经有将近三个月没有写博客啦。最近在加强js的逻辑练习，所以收集了一些js小练习，手把手把它敲出来了。我把它记录下来，我的学习分享，嘿嘿。。。</p>
</blockquote>]]>
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[hexo常用命令]]></title>
    <link href="http://yoursite.com/2015/10/10/20151010/"/>
    <id>http://yoursite.com/2015/10/10/20151010/</id>
    <published>2015-10-10T10:14:00.000Z</published>
    <updated>2017-05-03T07:23:54.118Z</updated>
    <content type="html"><![CDATA[<p><img src="/images/top-img.jpg" alt="图片一"></p>
<h2 id="快速开始">快速开始</h2><h3 id="创建新的文章">创建新的文章</h3><a id="more"></a>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="运行服务器">运行服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br><span class="line">INFO  Hexo is running at http://<span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">4000</span>/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>执行完该命令后，在浏览器地址栏输入：<a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a>，即可访问本地博客<br><!--more--><br>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="生成静态文件">生成静态文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="发布到远程">发布到远程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">更多命令</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p><img src="/images/top-img.jpg" alt="图片一"></p>
<h2 id="快速开始">快速开始</h2><h3 id="创建新的文章">创建新的文章</h3>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="hexo" scheme="http://yoursite.com/categories/hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[git命令使用笔记]]></title>
    <link href="http://yoursite.com/2015/06/13/20150613/"/>
    <id>http://yoursite.com/2015/06/13/20150613/</id>
    <published>2015-06-13T13:52:00.000Z</published>
    <updated>2017-04-15T09:38:44.066Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>本文主要是记录常用的git命令，环境：win7 64位 命令面板：Git Bash<br>推荐用可视化工具，如TortoiseGit，操作非常简单。但是我觉得作为一名合格的程序员，通过命令行提交代码是一件可以装逼的事，哈哈哈。。。</p>
</blockquote>
<h1 id="设置Git的username和email">设置Git的username和email</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"U_can"</span></span><br><span class="line">$ git config --global user.email <span class="string">"xxx@qq.com"</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="查看之前是否生成过ssh密钥">查看之前是否生成过ssh密钥</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure>
<p>进入到.ssh目录下（如果没有该目录，则直接跳到生成密钥ssh-keygen ），<b>显示该目录下的所有文件：ls</b><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ls</span><br></pre></td></tr></table></figure></p>
<p>备注：$ ls -ah可以查看隐藏的文件<br>执行完命令后会显示目录下有这三个文件：id_rsa（私钥，不能泄露）  id_rsa.pub（对应的公钥，可以公开）  known_hosts，说明已经生成过密钥<br>如果没有生成过密钥，则执行下面的命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"xxx@qq.com"</span></span><br></pre></td></tr></table></figure></p>
<p>生成密钥过程中会提示让你输入密码，这个密码会让你在以后提交代码的过程中使用，不过也可以不用设置。<br>之后会在该路径下生成密钥文件：C:\Users\9007656.ssh<br>如果你要提交代码到远程托管仓库（如github或gitLab），则需要将你生成的公钥（.pub）添加到上面sshkey，添加完成之后验证这个key是否正常：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase <span class="keyword">for</span> key <span class="string">'/c/Users/9007656/.ssh/id_rsa'</span>:</span><br><span class="line">Hi UWcan! You<span class="string">'ve successfully authenticated, but GitHub does not provide shell a ccess.</span></span><br></pre></td></tr></table></figure>
<p>因为我设置过密码，所以会提示我先输入密码，输入密码之后回车，然后显示Hi…，说明我已经正确连接了</p>
<h1 id="创建仓库，克隆远程代码到本地">创建仓库，克隆远程代码到本地</h1><h2 id="准备工作">准备工作</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//进入到你要克隆代码的文件夹web</span><br><span class="line">$ <span class="built_in">cd</span> web</span><br><span class="line">//如果远程没有仓库，可以在Tms里面初始化仓库，产生.git文件,如果克隆远程仓库，会自动有.git文件，不需要初始化</span><br><span class="line">$ git init</span><br><span class="line"><span class="comment">#Initialized empty Git repository in f:/web/.git/</span></span><br></pre></td></tr></table></figure>
<h2 id="克隆远程文件">克隆远程文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@gitlab.fmkeji.com:<span class="number">9003931</span>/TMS.git</span><br><span class="line">Cloning into <span class="string">'TMS'</span>...</span><br><span class="line">Enter passphrase <span class="keyword">for</span> key <span class="string">'/c/Users/9007656/.ssh/id_rsa'</span>:</span><br><span class="line">remote: Counting objects: <span class="number">9526</span>, done.</span><br><span class="line">remote: Compressing objects: <span class="number">100</span>% (<span class="number">4748</span>/<span class="number">4748</span>), done.</span><br><span class="line">remote: Total <span class="number">9526</span> (delta <span class="number">4791</span>), reused <span class="number">9239</span> (delta <span class="number">4576</span>)</span><br><span class="line">Receiving objects: <span class="number">100</span>% (<span class="number">9526</span>/<span class="number">9526</span>), <span class="number">11.54</span> MiB | <span class="number">9.84</span> MiB/s, done.</span><br><span class="line">Resolving deltas: <span class="number">100</span>% (<span class="number">4791</span>/<span class="number">4791</span>), done.</span><br><span class="line">Checking connectivity... done.</span><br></pre></td></tr></table></figure>
<p>此时已经成功将代码克隆到本地了</p>
<h1 id="添加文件">添加文件</h1><p>把文件修改添加到暂存区<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add &lt;fileName&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="提交文件">提交文件</h1><p>把暂存区的所有内容提交到当前分支<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">"提交备注"</span></span><br></pre></td></tr></table></figure></p>
<h1 id="查看文件状态">查看文件状态</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br></pre></td></tr></table></figure>
<h1 id="查看修改内容">查看修改内容</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure>
<h1 id="版本回退、撤回修改">版本回退、撤回修改</h1><p> 如果你提交了修改后boss或产品又说不用修改了，就用之前的方案。那么你可以直接用git还原到修改前的状态，而不用修改代码，省了你很多麻烦。<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">或</span><br><span class="line">$ git <span class="built_in">log</span> --pretty=online</span><br></pre></td></tr></table></figure></p>
<p> 这样可以看到你提交代码的记录，方便你查询回退到哪个版本，比如我们现在要把版本回退到如：2222，<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard <span class="number">2222</span></span><br><span class="line">HEAD is now at <span class="number">3628164</span> append GPL</span><br></pre></td></tr></table></figure></p>
<p> 这样就可以回退到你想到的版本了。<br>如果你回退之后boss或产品大大又说还是改回来吧，此时心里万只草泥马在奔腾，不过没关系，git很能干的。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br></pre></td></tr></table></figure></p>
<p>就这么简单，代码回来了</p>
<h1 id="还原修改">还原修改</h1><p>如果你修改了文件之后，还没提交，boss通知你说不需要修改了，那么你直接将该文件还原就行了<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- &lt;file&gt;</span><br></pre></td></tr></table></figure></p>
<p>命令中的–很重要，没有–，就变成了“切换到另一个分支”的命令</p>
<h1 id="关联远程库并推送代码">关联远程库并推送代码</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remost add origin git@远程仓库地址</span><br></pre></td></tr></table></figure>
<p>关联后，使用命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure></p>
<p>第一次推送master分支的所有内容，以后的修改推送可以省略-u</p>
<h1 id="创建、切换分支">创建、切换分支</h1><h2 id="创建分支">创建分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch develop</span><br></pre></td></tr></table></figure>
<h2 id="切换分支">切换分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout develop</span><br></pre></td></tr></table></figure>
<h2 id="创建并切换分支">创建并切换分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b develop</span><br></pre></td></tr></table></figure>
<h1 id="合并分支">合并分支</h1><p>假设当前分支是develop，此时我想把master分支合并到develop<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge master</span><br></pre></td></tr></table></figure></p>
<h1 id="删除分支">删除分支</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch <span class="operator">-d</span> develop</span><br><span class="line"><span class="comment">#查看所有分支</span></span><br><span class="line">$ git branch</span><br><span class="line">*master</span><br></pre></td></tr></table></figure>
<p>说明develop分支已经成功删除</p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>本文主要是记录常用的git命令，环境：win7 64位 命令面板：Git Bash<br>推荐用可视化工具，如TortoiseGit，操作非常简单。但是我觉得作为一名合格的程序员，通过命令行提交代码是一件可以装逼的事，哈哈哈。。。</p>
</blockquote>
<h1 id="设置Git的username和email">设置Git的username和email</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"U_can"</span></span><br><span class="line">$ git config --global user.email <span class="string">"xxx@qq.com"</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[网页之文本溢出显示省略号]]></title>
    <link href="http://yoursite.com/2015/04/03/20150403/"/>
    <id>http://yoursite.com/2015/04/03/20150403/</id>
    <published>2015-04-03T04:23:00.000Z</published>
    <updated>2017-04-15T10:00:41.126Z</updated>
    <content type="html"><![CDATA[<h1 id="1、单行文本溢出显示省略号的css写法">1、单行文本溢出显示省略号的css写法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">overflow:hidden;</span><br><span class="line">text-overflow:ellipsis;</span><br><span class="line">white-space:nowrap;/*不换行*/</span><br></pre></td></tr></table></figure>
<h1 id="2、多行文本显示省略号(这里根据应用场景来实现)">2、多行文本显示省略号(这里根据应用场景来实现)</h1><h2 id="（1）Webkit浏览器或移动端页面">（1）Webkit浏览器或移动端页面</h2><p>可以使用webkit的私有属性：-webkit-line-clamp（这个属性不属于css规范），该属性用来显示块元素显示的文本行数。要实现该效果，需要组合其他的Webkit属性。<br>常见结合的属性：　</p>
<ul>
<li>display: -webkit-box; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。</li>
<li>-webkit-box-orient 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</li>
<li>text-overflow: ellipsis;，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本<a id="more"></a>
例如：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head lang=<span class="string">"en"</span>&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;多行文字溢出省略&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .text-contorl&#123;</span><br><span class="line">            display: -webkit-box;</span><br><span class="line">            -webkit-box-orient:vertical;</span><br><span class="line">            -webkit-line-clamp:<span class="number">3</span>;/*显示<span class="number">3</span>行文字*/</span><br><span class="line">            text-overflow: ellipsis;</span><br><span class="line">            font-size: <span class="number">16</span>px;</span><br><span class="line">            border: <span class="number">1</span>px solid <span class="comment">#ccc;</span></span><br><span class="line">            width: <span class="number">500</span>px;</span><br><span class="line">            max-height: <span class="number">300</span>px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p class=<span class="string">"text-contorl"</span>&gt;</span><br><span class="line">    摘要: 之前公司是用flash做的这个网站，现在因为访问速度过慢或者别的原因，由我来用html5重新写过，排版布局和之前的都是一样的。网页总体需要实现以下功能：（<span class="number">1</span>）背景图片轮播（<span class="number">2</span>）文字动画的实现（<span class="number">3</span>）导航条动画效果（<span class="number">4</span>）设计图片的展示效果（不知道怎么写，其实我还没弄明白它的实现原理，差不多就是图片的无缝</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>运行效果:<br><img src="/uploads/artical_img/2015040301.png" alt="图片1"></p>
<h2 id="(2)跨浏览器兼容方案">(2)跨浏览器兼容方案</h2><p>比较靠谱的做法就是设置相对定位的容器高度，用包含省略号（…）的元素模拟实现<br>例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head lang=<span class="string">"en"</span>&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;多行文字溢出省略&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .text-contorl&#123;          </span><br><span class="line">            position: relative;</span><br><span class="line">           line-height: <span class="number">1.4</span>em;</span><br><span class="line">            height: <span class="number">3.2</span>em;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        .text-contorl:after&#123;</span><br><span class="line">            content: <span class="string">"..."</span>;</span><br><span class="line">            font-weight: bold;</span><br><span class="line">            bottom: <span class="number">0</span>;</span><br><span class="line">            right: <span class="number">0</span>;</span><br><span class="line">            padding: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p class=<span class="string">"text-contorl"</span>&gt;</span><br><span class="line">    摘要: 之前公司是用flash做的这个网站，现在因为访问速度过慢或者别的原因，由我来用html5重新写过<span class="number">4</span>）设计图片的展示效果（不知道怎么写，其实我还没弄明白它的实现原理，差不多就是图片的无缝滚动。</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>运行效果:<br><img src="/uploads/artical_img/2015040302.png" alt="图片1"><br><strong> 这里需要注意的是：</strong></p>
<ul>
<li>height的高度需要设置 正好是line-height的3倍（经过测试发现，如果height的值设置过小，省略号没有显示，所以可能需要按需调整）</li>
<li>height的高度需要设置 正好是line-height的3倍（经过测试发现，如果height的值设置过小，省略号没有显示，所以可能需要按需调整）</li>
<li>IE6-7不显示content内容，所以要兼容IE6-7可以是在内容中加入一个标签，比如用<span class="line-clamp">…</span>去模拟；</li>
<li>要支持IE8，需要将::after替换成:after；</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="1、单行文本溢出显示省略号的css写法">1、单行文本溢出显示省略号的css写法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">overflow:hidden;</span><br><span class="line">text-overflow:ellipsis;</span><br><span class="line">white-space:nowrap;/*不换行*/</span><br></pre></td></tr></table></figure>
<h1 id="2、多行文本显示省略号(这里根据应用场景来实现)">2、多行文本显示省略号(这里根据应用场景来实现)</h1><h2 id="（1）Webkit浏览器或移动端页面">（1）Webkit浏览器或移动端页面</h2><p>可以使用webkit的私有属性：-webkit-line-clamp（这个属性不属于css规范），该属性用来显示块元素显示的文本行数。要实现该效果，需要组合其他的Webkit属性。<br>常见结合的属性：　</p>
<ul>
<li>display: -webkit-box; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。</li>
<li>-webkit-box-orient 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</li>
<li>text-overflow: ellipsis;，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本]]>
    
    </summary>
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[一次web网站总结]]></title>
    <link href="http://yoursite.com/2015/04/01/20150401/"/>
    <id>http://yoursite.com/2015/04/01/20150401/</id>
    <published>2015-04-01T10:09:00.000Z</published>
    <updated>2017-04-15T09:54:14.004Z</updated>
    <content type="html"><![CDATA[<p>之前公司是用flash做的这个网站，现在因为访问速度过慢或者别的原因，由我来用html5重新写过，排版布局和之前的都是一样的。<br>网页总体需要实现以下功能：</p>
<ol>
<li>背景图片轮播</li>
<li>导航条动画效果</li>
<li>文字动画的实现</li>
<li>设计图片的展示效果（不知道怎么写，其实我还没弄明白它的实现原理，差不多就是图片的无缝滚动吧）<a id="more"></a>
我主要是负责前端布局及交互效果，后台由php实现。现在总结一下本次工作get到的知识，高手可以指点一下我这个菜鸟。<h1 id="背景图片轮播">背景图片轮播</h1><h2 id="背景图片轮播html代码：">背景图片轮播html代码：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--背景切换--&gt;</span><br><span class="line">    &lt;div class=<span class="string">"slide"</span>&gt;</span><br><span class="line">       &lt;ul&gt;</span><br><span class="line">           &lt;li style=<span class="string">"background-image:url(images/home/bg1.jpg) "</span>&gt;&lt;/li&gt;</span><br><span class="line">           &lt;li style=<span class="string">"background-image:url(images/home/bg2.jpg) "</span>&gt;&lt;/li&gt;</span><br><span class="line">           &lt;li style=<span class="string">"background-image:url(images/home/bg3.jpg) "</span>&gt;&lt;/li&gt;</span><br><span class="line">       &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="实现轮播的js代码：">实现轮播的js代码：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>($)&#123;</span><br><span class="line">    $.fn.fadeImages=<span class="keyword">function</span>(options)&#123;</span><br><span class="line">        var opt= $.extend(&#123;</span><br><span class="line">           time:<span class="number">5000</span>,//动画间隔时间</span><br><span class="line">           fade:<span class="number">3000</span>,//淡入淡出的动画时间</span><br><span class="line">           dots:<span class="literal">false</span>//是否启用图片按钮</span><br><span class="line">        &#125;,options);</span><br><span class="line">        var t=parseInt(opt.time),</span><br><span class="line">            f=parseInt(opt.fade),</span><br><span class="line">            d=opt.dots,</span><br><span class="line">            i= <span class="number">0</span>,</span><br><span class="line">            j= <span class="number">0</span>,</span><br><span class="line">            k, l, m,<span class="built_in">set</span>;</span><br><span class="line">        m=$(this).find(<span class="string">"ul li"</span>);</span><br><span class="line">        l= m.length;</span><br><span class="line">        //初始化</span><br><span class="line">        m.hide().eq(<span class="number">0</span>).css(<span class="string">"z-index"</span>,<span class="string">"2"</span>).fadeIn(f);</span><br><span class="line">        //图片切换函数</span><br><span class="line">        <span class="keyword">function</span> show(i)&#123;</span><br><span class="line">            m.eq(i).css(<span class="string">"z-index"</span>,<span class="number">2</span>).fadeIn(f).siblings().css(<span class="string">"z-index"</span>,<span class="number">1</span>).fadeOut(f);</span><br><span class="line">        &#125;</span><br><span class="line">        //图片自动播放函数</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">play</span></span>()&#123;</span><br><span class="line">            <span class="keyword">if</span>(i++&lt;l-<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="built_in">set</span>=<span class="built_in">set</span>Timeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                    show(i);</span><br><span class="line">                    play();</span><br><span class="line">                &#125;,t+f)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                i=-<span class="number">1</span>;</span><br><span class="line">                play();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        play();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(jQuery));</span><br></pre></td></tr></table></figure>
<p>最后在页面内调用：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">$(document).ready(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  $(<span class="string">".slide"</span>).fadeImage();</span><br><span class="line"> &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>运行效果：<br><img src="/uploads/artical_img/2015040101.gif" alt="轮播效果"><br>下面我该用setInterval实现：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$.fn.fadeImage=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            var opt= &#123;</span><br><span class="line">                time:<span class="number">1000</span>,//图片切换时间间隔</span><br><span class="line">                fade:<span class="number">1000</span></span><br><span class="line">            &#125;;</span><br><span class="line">            var t=parseInt(opt.time),</span><br><span class="line">                f=parseInt(opt.fade),</span><br><span class="line">                obj=$(this).find(<span class="string">"ul li"</span>),</span><br><span class="line">                i= <span class="number">0</span>,</span><br><span class="line">                l=obj.length;</span><br><span class="line">            //初始化图片</span><br><span class="line">            obj.hide().eq(<span class="number">0</span>).css(<span class="string">"z-index"</span>,<span class="string">"2"</span>).fadeIn(f);</span><br><span class="line">//            console.log(l);</span><br><span class="line">            <span class="keyword">function</span> show(i)&#123;</span><br><span class="line">                obj.eq(i).css(<span class="string">"z-index"</span>,<span class="string">"2"</span>).fadeIn(f).siblings().css(<span class="string">"z-index"</span>,<span class="string">"1"</span>).fadeOut(f);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">function</span> <span class="function"><span class="title">play</span></span>()&#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;l)&#123;</span><br><span class="line">                    show(i);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    i=-<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                play();</span><br><span class="line">            &#125;,t+f);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line">        $(document).ready(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            $(<span class="string">".slide"</span>).fadeImage();</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure></p>
<p>SetInterval为自动重复，setTimeout不会重复。也就是说setTimeOut既定的时间间隔后只执行一次。</p>
<h1 id="导航动画的实现">导航动画的实现</h1><p><img src="/uploads/artical_img/2015040103.gif" alt="文字动画效果"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">"nav"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"proeile.html"</span>&gt;PROEILE&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"proeile.html"</span>&gt;诠释&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"services.html"</span>&gt;SERVICES&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"services.html"</span>&gt;服务范畴&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"projects.html"</span>&gt;PROJECTS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"projects.html"</span>&gt;主要项目&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"cooperation.html"</span>&gt;COMPANY&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"cooperation.html"</span>&gt;合作机构&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"news.html"</span>&gt;NEWS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"news.html"</span>&gt;公司动态&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"join-us.html"</span>&gt;JIONS US&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"join-us.html"</span>&gt;人才招贤&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"nav-list"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"en"</span>&gt;&lt;a href=<span class="string">"contact.html"</span>&gt;CONTACT&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"ch"</span>&gt;&lt;a href=<span class="string">"contact.html"</span>&gt;联系&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>另一种实现方法，纯css实现：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">.nav&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    /*width: <span class="number">600</span>px;*/</span><br><span class="line">    text-align: center;</span><br><span class="line">    height: <span class="number">40</span>px;</span><br><span class="line">    left: <span class="number">30</span>%;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list &#123;</span><br><span class="line">    width: <span class="number">100</span>px;</span><br><span class="line">    height: <span class="number">40</span>px;</span><br><span class="line">    position: relative;</span><br><span class="line">    font-family: <span class="string">"Microsoft YaHei"</span>, <span class="string">"微软雅黑"</span>, Georgia, Serif;</span><br><span class="line">    font-size: <span class="number">14</span>px;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    <span class="built_in">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list div &#123;</span><br><span class="line">    width: <span class="number">100</span>px;</span><br><span class="line">    height: <span class="number">40</span>px;</span><br><span class="line">    line-height: <span class="number">50</span>px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    text-align: center;</span><br><span class="line">    -webkit-transition: all <span class="number">0.3</span>s ease-in-out;</span><br><span class="line">    -moz-transition: all <span class="number">0.3</span>s ease-in-out;</span><br><span class="line">    -o-transition: all <span class="number">0.3</span>s ease-in-out;</span><br><span class="line">    transition: all <span class="number">0.3</span>s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list .en &#123;</span><br><span class="line">    top: <span class="number">0</span>;</span><br><span class="line">    left: <span class="number">0</span>;</span><br><span class="line">    z-index: <span class="number">1</span>;</span><br><span class="line">    color: <span class="comment">#FFF;</span></span><br><span class="line">&#125;</span><br><span class="line">.nav-list:hover .en &#123;</span><br><span class="line">    top: -<span class="number">40</span>px;</span><br><span class="line">    left: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list .en a &#123;</span><br><span class="line">    color: <span class="comment">#FFF;</span></span><br><span class="line">    text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list .ch &#123;</span><br><span class="line">    bottom: -<span class="number">40</span>px;</span><br><span class="line">    left: <span class="number">0</span>;</span><br><span class="line">    z-index: <span class="number">2</span>;</span><br><span class="line">    color: <span class="comment">#FFF;</span></span><br><span class="line">&#125;</span><br><span class="line">.nav-list:hover .ch &#123;</span><br><span class="line">    bottom: <span class="number">0</span>;</span><br><span class="line">    left: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">.nav-list .ch a &#123;</span><br><span class="line">    color: <span class="comment">#FFF;</span></span><br><span class="line">    text-decoration: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="文字动画的实现">文字动画的实现</h1><p>文字动画我用到了css3的animation，就拿主页的动画做例子<br><img src="/uploads/artical_img/2015040102.gif" alt="文字动画效果"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">"content"</span>&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"proeile.html"</span>&gt;诠释&lt;span&gt;PROEILE&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"services.html"</span>&gt;服务范畴&lt;span&gt;SERVICES&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"projects.html"</span>&gt;主要项目&lt;span&gt;PROJECTS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"cooperation.html"</span>&gt;合作机构&lt;span&gt;COOPERATION AGENCIES&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"news.html"</span>&gt;公司动态&lt;span&gt;COMPANY NEWS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"join-us.html"</span>&gt;人才招贤&lt;span&gt;PERSONNEL RECRUITMENT&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=<span class="string">"contact.html"</span>&gt;联系&lt;span&gt;CONTACT&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">//css样式</span><br><span class="line">.content ul li:nth-child(<span class="number">1</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">1</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">2</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">1.5</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">3</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">2.0</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">4</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">2.5</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">5</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">3</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">6</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">3.5</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">.content ul li:nth-child(<span class="number">7</span>),</span><br><span class="line">.right ul li:nth-child(<span class="number">6</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">4</span>s both;</span><br><span class="line">    animation:txt-up <span class="number">1.5</span>s ease <span class="number">4</span>s both;</span><br><span class="line">    -moz-animation:txt-up <span class="number">1.5</span>s ease <span class="number">4</span>s both;</span><br><span class="line">    -ms-animation:txt-up <span class="number">1.5</span>s ease <span class="number">4</span>s both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.right ul li:nth-child(<span class="number">7</span>)&#123;</span><br><span class="line">    -webkit-animation:txt-up <span class="number">1.5</span>s ease <span class="number">4.5</span>s both;</span><br><span class="line">&#125;</span><br><span class="line">@-webkit-keyframes txt-up&#123;</span><br><span class="line">    <span class="number">0</span>%&#123;</span><br><span class="line">        opacity:<span class="number">0</span>;</span><br><span class="line">        -webkit-transform:translateY(<span class="number">500</span>px);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">60</span>%&#123;</span><br><span class="line">        opacity:<span class="number">1</span>;</span><br><span class="line">        -webkit-transform:translateY(-<span class="number">10</span>px);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">80</span>%&#123;</span><br><span class="line">        -webkit-transform:translateY(<span class="number">10</span>px);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100</span>%&#123;</span><br><span class="line">        -webkit-transform:translateY(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其实我觉得我现在这个实现方法很差劲，因为不利于后台添加新的内容。试着用js代码来实现，效果还不错。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$.fn.txtSlideUp=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        var obj=$(this).find(<span class="string">"ul li"</span>),</span><br><span class="line">            l=obj.length,</span><br><span class="line">            count= <span class="number">0</span>,</span><br><span class="line">            i= <span class="number">0</span>,</span><br><span class="line">            newClass=<span class="string">"slideUp"</span>+(count++),</span><br><span class="line">            time = <span class="number">1</span>;</span><br><span class="line">        $(<span class="string">"&lt;style&gt;"</span> +</span><br><span class="line">          <span class="string">"."</span>+newClass+<span class="string">"&#123;-webkit-animation:txt-up 1.5s ease "</span>+time+<span class="string">"s both;&#125;"</span> +</span><br><span class="line">          <span class="string">"&lt;/style&gt;"</span>).appendTo(<span class="string">"head"</span>);</span><br><span class="line">        obj.eq(<span class="number">0</span>).addClass(newClass);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">play</span></span>()&#123;</span><br><span class="line">           i++;</span><br><span class="line">           newClass=<span class="string">"slideUp"</span>+(count++);</span><br><span class="line">           time += <span class="number">0.5</span>;</span><br><span class="line">           $(<span class="string">"&lt;style&gt;"</span> +</span><br><span class="line">                   <span class="string">"."</span>+newClass+<span class="string">"&#123;-webkit-animation:txt-up 1.5s ease "</span>+time+<span class="string">"s both;&#125;"</span> +</span><br><span class="line">                   <span class="string">"&lt;/style&gt;"</span>).appendTo(<span class="string">"head"</span>);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span>(i&lt;l)&#123;</span><br><span class="line">                   obj.eq(i).addClass(newClass);</span><br><span class="line">               &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                   clearInterval(<span class="built_in">set</span>1);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        var <span class="built_in">set</span>1=<span class="built_in">set</span>Interval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            play();</span><br><span class="line">        &#125;,<span class="number">0</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    $(document).ready(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        $(<span class="string">".content"</span>).txtSlideUp();</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<p>哈哈，好高兴的噢，菜鸟，加油！！！<br>还有另一个文字点击效果：<br><img src="/uploads/artical_img/2015040104.gif" alt="文字动画效果"><br>这个实现起来其实也很简单，只用一句代码就可以搞定了<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">"menu-list"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"main main_an1"</span>&gt;酒店&lt;span&gt;HOTEL&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"sub_list"</span>&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;佛山华美达酒店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;海南龙泉大酒店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;新乡和颐鑫地酒店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;柳州宾馆&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"main main_an2"</span>&gt;餐饮&lt;span&gt;RESTAURANT&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"sub_list"</span>&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;广州酒家旧机场店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;广州酒家天极品越华路店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;广州酒家天极品花城店&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;潮珍苑酒家&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;广州鹅潭一号&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;本厨椰子鸡汤&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;中惠兰堡餐厅&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;中惠兰堡养生馆&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"main main_an3"</span>&gt;地产&lt;span&gt;ESTATE&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"sub_list"</span>&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;中惠璧珑湾&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;虎门国际公馆&lt;/a&gt;</span><br><span class="line">            &lt;a href=<span class="string">"showPic.html"</span>&gt;粤海丽江花园&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(document).ready(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        $(<span class="string">".main"</span>).click(<span class="function"><span class="title">function</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            $(this).next(<span class="string">"div.sub_list"</span>).slideToggle(<span class="number">300</span>).siblings(<span class="string">"div.sub_list"</span>).slideUp(<span class="string">"slow"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>next()方法在jquery中是用来遍历节点的，取得每个匹配的元素的后一个同辈的元素集合，只有紧邻的同辈元素才会被匹配到。</p>
<p> siblings()方法是查找每个匹配元素的所有同胞元素。</p>
<h1 id="设计图展示方法（待更新）">设计图展示方法（待更新）</h1>]]></content>
    <summary type="html">
    <![CDATA[<p>之前公司是用flash做的这个网站，现在因为访问速度过慢或者别的原因，由我来用html5重新写过，排版布局和之前的都是一样的。<br>网页总体需要实现以下功能：</p>
<ol>
<li>背景图片轮播</li>
<li>导航条动画效果</li>
<li>文字动画的实现</li>
<li>设计图片的展示效果（不知道怎么写，其实我还没弄明白它的实现原理，差不多就是图片的无缝滚动吧）]]>
    
    </summary>
    
      <category term="html" scheme="http://yoursite.com/tags/html/"/>
    
      <category term="随笔" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CSS3属性之transform学习笔记]]></title>
    <link href="http://yoursite.com/2015/03/03/20150303/"/>
    <id>http://yoursite.com/2015/03/03/20150303/</id>
    <published>2015-03-03T06:42:00.000Z</published>
    <updated>2017-04-13T10:07:04.928Z</updated>
    <content type="html"><![CDATA[<p>transform的属性包括：1、rotate（旋转） 2、skew（斜切） 3、scale（缩放） 4、translate（位移变化），其中还有x,y之分，比如：rotateX，rotateY，以此类推。<br><a id="more"></a></p>
<h2 id="rotate">rotate</h2><p>含义：旋转；其中“deg”是“度”的意思<br>写法：transform：rotate();<br>如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@keyframes icon_3 &#123;</span><br><span class="line">  <span class="number">0</span>% &#123;</span><br><span class="line">      transform: rotate(<span class="number">0</span>deg);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50</span>% &#123;</span><br><span class="line">      opacity: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100</span>% &#123;</span><br><span class="line">      transform: rotate(<span class="number">360</span>deg);</span><br><span class="line">      opacity: <span class="number">0.2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="skew">skew</h2><p>写法：transform：skew(20deg);<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.demo_transform2&#123;-webkit-transform:skew(<span class="number">20</span>deg);-moz-transform:skew(<span class="number">20</span>deg)&#125;</span><br></pre></td></tr></table></figure></p>
<p>这个属性我目前还没有用过，也不多见，日后在分析。</p>
<h2 id="scale">scale</h2><p>含义：比例；“1.5”表示以1.5的比例放大，如果要放大2倍，须写成“2.0”，缩小则为负“-”。<br>scale(x,y) 对元素进行缩放 ：</p>
<ul>
<li>X表示水平方向缩放的倍数 | Y表示垂直方向的缩放倍数</li>
<li>Y是一个可选参数，没有设置的话，则表示X，Y两个方向的缩放倍数是一样的。并以X为准。</li>
</ul>
<p>写法：transform:scale()：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.demo_transform3&#123;-webkit-transform:scale(<span class="number">1.5</span>);-moz-transform:scale(<span class="number">1.5</span>)&#125;</span><br><span class="line">@-webkit-keyframes pic_3_icon_l &#123;</span><br><span class="line">    <span class="number">0</span>% &#123;</span><br><span class="line">        opacity: <span class="number">0</span>;</span><br><span class="line">        -webkit-transform: scale(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">15.5</span>% &#123;</span><br><span class="line">        opacity: <span class="number">0</span>;</span><br><span class="line">        -webkit-transform: scale(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">20.5</span>% &#123;</span><br><span class="line">        opacity: <span class="number">1</span>;</span><br><span class="line">        -webkit-transform: scale(<span class="number">0.9</span>, <span class="number">0.9</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">72.5</span>% &#123;</span><br><span class="line">        opacity: <span class="number">1</span>;</span><br><span class="line">        -webkit-transform: scale(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100</span>% &#123;</span><br><span class="line">        opacity: <span class="number">0</span>;</span><br><span class="line">        -webkit-transform: scale(<span class="number">1.2</span>, <span class="number">1.2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="translate">translate</h2><p>含义：变动，位移；如下表示向右位移120像素，如果向上位移，把后面的“0”改个值就行，向左向下位移则为负“-”。<br>写法：transform:translate(x,y)</p>
<ul>
<li>取值x表示x轴过渡值</li>
<li>取值y表示y轴过渡值，如果没有赋值，则默认为0</li>
<li>默认以元素的中心点为基点，可以通过transform-origin进行基点的设置</li>
<li>x，y如果为负值就反方向移动<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.demo_transform4&#123;-webkit-transform:translate(<span class="number">120</span>px,<span class="number">0</span>);-moz-transform:translate(<span class="number">120</span>px,<span class="number">0</span>)&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>transform的属性包括：1、rotate（旋转） 2、skew（斜切） 3、scale（缩放） 4、translate（位移变化），其中还有x,y之分，比如：rotateX，rotateY，以此类推。<br>]]>
    
    </summary>
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[canvas之刮刮卡效果]]></title>
    <link href="http://yoursite.com/2015/02/10/20150210/"/>
    <id>http://yoursite.com/2015/02/10/20150210/</id>
    <published>2015-02-10T11:55:00.000Z</published>
    <updated>2017-04-15T09:09:37.128Z</updated>
    <content type="html"><![CDATA[<p>今天我有时间学习了一下html5新增的这个标签canvas，以前虽然经常写html5网页，可是都没用过这个标签。最近刚弄了一个h5微信送祝福的网页，差不多折腾了一个星期，所以我觉得我得系统的来学习一下html5和css3了。</p>
<p>好了，废话不多说，下面贴出我的代码。<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head lang=<span class="string">"en"</span>&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;刮刮卡效果&lt;/title&gt;</span><br><span class="line">    &lt;style <span class="built_in">type</span>=<span class="string">"text/css"</span>&gt;</span><br><span class="line">        body&#123;</span><br><span class="line">            width: <span class="number">1000</span>px;</span><br><span class="line">            height: <span class="number">600</span>px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">            margin: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#myCanvas&#123;</span></span><br><span class="line">            background: url(img/slide2.jpg) ;</span><br><span class="line">            background-size: cover;</span><br><span class="line">            width: <span class="number">1000</span>px;</span><br><span class="line">            height: <span class="number">600</span>px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=<span class="string">"myCanvas"</span> &gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line"></span><br><span class="line">        window.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            document.ontouchmove=<span class="keyword">function</span>(e)&#123;</span><br><span class="line">                e.preventDefault();//阻止默认的滚动事件</span><br><span class="line">            &#125;;</span><br><span class="line">            //检测浏览器是否支持canvas标签</span><br><span class="line">            try&#123;</span><br><span class="line">                document.createElement(<span class="string">"canvas"</span>).getContext(<span class="string">'2d'</span>);</span><br><span class="line">            &#125;catch (e)&#123;</span><br><span class="line">                alert(<span class="string">'您的手机不支持刮刮卡效果'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        var u=navigator.userAgent;</span><br><span class="line">        var mobile=<span class="string">'pc'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(u.indexOf(<span class="string">'iphone'</span>)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">            mobile=<span class="string">'iphone'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(u.indexOf(<span class="string">'Android'</span>)&gt;-<span class="number">1</span>|| u.indexOf(<span class="string">'linux'</span>)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">            mobile=<span class="string">'Android'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        //创建一个canvas标签</span><br><span class="line">        <span class="keyword">function</span> createCanvas(parent,width,height)&#123;</span><br><span class="line">            var canvas=&#123;&#125;;</span><br><span class="line">            canvas.node=document.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">            canvas.context=canvas.node.getContext(<span class="string">'2d'</span>);</span><br><span class="line">            canvas.node.width=width||<span class="number">1000</span>;</span><br><span class="line">            canvas.node.height=height||<span class="number">600</span>;</span><br><span class="line">            parent.appendChild(canvas.node);</span><br><span class="line">            <span class="built_in">return</span> canvas;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> init(container,width,height,fillcolor,<span class="built_in">type</span>)&#123;</span><br><span class="line">            var canvas=createCanvas(container,width,height);</span><br><span class="line">            var ctx=canvas.context;</span><br><span class="line">            ctx.fillCircle=<span class="keyword">function</span>(x,y,radius,fillcolor)&#123;</span><br><span class="line">                this.fillStyle=fillcolor;</span><br><span class="line">                this.beginPath();</span><br><span class="line">                this.moveTo(x,y);</span><br><span class="line">                this.arc(x,y,radius,<span class="number">0</span>,Math.PI*<span class="number">2</span>,<span class="literal">false</span>);</span><br><span class="line">                this.fill();</span><br><span class="line">            &#125;;</span><br><span class="line">            ctx.clearTo=<span class="keyword">function</span>(fillcolor)&#123;</span><br><span class="line">                ctx.fillStyle=fillcolor;</span><br><span class="line">                ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,width,height);</span><br><span class="line">            &#125;;</span><br><span class="line">            ctx.clearTo(fillcolor||<span class="string">"#ddd"</span>);</span><br><span class="line">            canvas.node.addEventListener(mobile==<span class="string">"pc"</span>?<span class="string">"mousedown"</span>:<span class="string">"touchstart"</span>,<span class="keyword">function</span>(e)&#123;</span><br><span class="line">                canvas.isDrawing=<span class="literal">true</span>;</span><br><span class="line">            &#125;,<span class="literal">false</span>);</span><br><span class="line">            canvas.node.addEventListener(mobile==<span class="string">"pc"</span>?<span class="string">"mouseup"</span>:<span class="string">"touchend"</span>,<span class="keyword">function</span>(e)&#123;</span><br><span class="line">                canvas.isDrawing=<span class="literal">false</span>;</span><br><span class="line">            &#125;,<span class="literal">false</span>);</span><br><span class="line">            canvas.node.addEventListener(mobile==<span class="string">"pc"</span>?<span class="string">"mousemove"</span>:<span class="string">"touchmove"</span>,<span class="keyword">function</span>(e)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!canvas.isDrawing)&#123;<span class="built_in">return</span>;&#125;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">type</span>==<span class="string">"Android"</span>)&#123;</span><br><span class="line">                    var x= e.changedTouches[<span class="number">0</span>].pageX-this.offsetLeft;</span><br><span class="line">                    var y= e.changedTouches[<span class="number">0</span>].pageY-this.offsetTop;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    var x= e.pageX-this.offsetLeft;</span><br><span class="line">                    var y= e.pageY-this.offsetTop;</span><br><span class="line">                &#125;</span><br><span class="line">                var radius=<span class="number">20</span>;</span><br><span class="line">                var fillcolor=<span class="string">"#ff0000"</span>;</span><br><span class="line">                //在源图像外显示目标图像。只有源图像外的目标图像部分会被显示，源图像是透明的。</span><br><span class="line">                ctx.globalCompositeOperation=<span class="string">"destination-out"</span>;</span><br><span class="line">                ctx.fillCircle(x,y,radius,fillcolor);</span><br><span class="line">            &#125;,<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        var container=document.getElementById(<span class="string">'myCanvas'</span>);</span><br><span class="line">        init(container,<span class="number">1000</span>,<span class="number">600</span>,<span class="string">"#696868"</span>,mobile);</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>效果一：<br><img src="/uploads/artical_img/2015021001.jpg" alt="图片1"></p>
<p>效果二：<br><img src="/uploads/artical_img/2015021002.jpg" alt="图片2"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>今天我有时间学习了一下html5新增的这个标签canvas，以前虽然经常写html5网页，可是都没用过这个标签。最近刚弄了一个h5微信送祝福的网页，差不多折腾了一个星期，所以我觉得我得系统的来学习一下html5和css3了。</p>
<p>好了，废话不多说，下面贴出我的代码。<br>]]>
    
    </summary>
    
      <category term="canvas" scheme="http://yoursite.com/tags/canvas/"/>
    
      <category term="前端分享" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
</feed>
